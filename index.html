<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dia de Sorte - Gerador Manual + Minimalista</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
	<link rel="stylesheet" href="../css/styles.css">
	<script src="../js/scripts.js"></script>
    <link rel="stylesheet" href="./css/styles.css">
    <script src="./js/scripts.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        diasorte: '#D4B31A',
                        'diasorte-light': '#E6C533',
                        'diasorte-dark': '#B69816',
                        'diasorte-bg': '#FCF9E8'
                        'diasorte-bg': '#FCF9E8',
                        'diasorte-gold': '#F4E5A4',
                        'diasorte-gold-light': '#F9F2D2',
                        'diasorte-gold-dark': '#887211'
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        .loading-circle {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #D4B31A, #E6C533, #B69816);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .numero-btn {
            width: 45px;
            height: 45px;

        .numero-dias {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #D4B31A, #E6C533);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            margin: 2px;
        }

        
        .numero-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(212, 179, 26, 0.4);
        }
        
        .numero-btn.selecionado {


        .numero-dias:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(212, 179, 26, 0.4);
        }

        .numero-dias.selecionado {

            background: linear-gradient(135deg, #dc2626, #ef4444);
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.3);
            border-color: #dc2626;
        }

        
        .numero-btn.disabled {
            background: #9ca3af;
            cursor: not-allowed;
            opacity: 0.5;
        }
        
        .numero-btn.sorteado {


        .numero-dias.sorteado {

            background: linear-gradient(135deg, #ef4444, #dc2626);
            border: 2px solid #fbbf24;
            position: relative;
        }

        
        .numero-btn.sorteado::after {


        .numero-dias.sorteado::after {

            content: "üéØ";
            position: absolute;
            top: -8px;
            right: -8px;
            font-size: 10px;
        }

        
        .numero-btn.par {
            border: 2px solid #10b981;
        }
        .numero-btn.impar {
            border: 2px solid #8b5cf6;
        }

        .mes-btn {
            min-width: 80px;
            height: 45px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);


        .numero-dias.disabled {
            background: #9ca3af;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .numero-dias.inicio { border: 2px solid #10b981; }
        .numero-dias.meio { border: 2px solid #f59e0b; }
        .numero-dias.final { border: 2px solid #8b5cf6; }

        .mes-sorte {
            width: 60px;
            height: 40px;
            background: linear-gradient(135deg, #10b981, #34d399);

            color: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
            margin: 2px;
            padding: 0 8px;
        }


        .mes-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.4);

        .mes-sorte:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);

        }

        .mes-btn.selecionado {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.3);
            border-color: #dc2626;
        }


        .mes-btn.sorteado {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border: 2px solid #fbbf24;
            position: relative;
        }

        .contador-destaque {
            animation: bounce 1s ease-in-out;
        }
        

        .contador-destaque { animation: bounce 1s ease-in-out; }

        .meta-atingida {
            background: linear-gradient(45deg, #10b981, #34d399) !important;
            color: white;
            animation: pulse 1s infinite;
        }

        
        .meta-excedida {
            background: linear-gradient(45deg, #ef4444, #f87171) !important;
            color: white;
            animation: pulse 0.5s infinite;
        }



        .drop-zone {
            min-height: 120px;
            border: 3px dashed #D4B31A;
            border-radius: 12px;
            background: linear-gradient(135deg, #FCF9E8, #F9F2D2);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #D4B31A;
            font-weight: bold;
            transition: all 0.3s;
        }


        .drop-zone.drag-over {
            background: linear-gradient(135deg, #F9F2D2, #F4E5A4);
            border-color: #B69816;
            transform: scale(1.02);
        }

        .drop-zone.has-numbers {
            background: linear-gradient(to right, #FCF9E8, #F9F2D2);

        .drop-zone:hover {
            border-color: #B69816;
            background: linear-gradient(135deg, #F9F2D2, #F4E5A4);
            transform: scale(1.02);
        }

        .drop-zone.drag-over {
            border-color: #dc2626;
            background: linear-gradient(135deg, #fee2e2, #fecaca);

            border-style: solid;
            animation: pulse 0.5s infinite;
        }

        .numero-drop {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #D4B31A, #E6C533);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            margin: 2px;
            position: relative;
            cursor: move;
            transition: all 0.2s;
        }


        .mes-drop {
            min-width: 60px;
            height: 35px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
            margin: 2px;
            position: relative;
            padding: 0 8px;

        .numero-drop:hover {
            transform: scale(1.1);
            z-index: 10;

        }

        .numero-drop .remove-btn {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #dc2626;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .numero-drop:hover .remove-btn { opacity: 1; }

        .mes-drop {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            padding: 4px 8px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 12px;
            margin: 2px;
            position: relative;
            cursor: move;
        }

        .mes-drop:hover {
            transform: scale(1.1);
        }

        .mes-drop .remove-btn {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #dc2626;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .mes-drop:hover .remove-btn { opacity: 1; }

        .jogo-card {
            background: linear-gradient(to right, #FCF9E8, #F9F2D2);
            border: 2px solid #D4B31A;
            border-radius: 12px;
            padding: 16px;
            margin: 8px 0;
        }

        .numero-jogo {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #D4B31A, #E6C533);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
            margin: 2px;
        }

        .mes-jogo {

            min-width: 60px;
            height: 35px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);

            background: linear-gradient(135deg, #10b981, #34d399);

            color: white;
            padding: 4px 8px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 12px;
            margin-left: 8px;
        }

        .numero-minimalista {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;

            font-size: 12px;
            margin: 2px;
            padding: 0 8px;
        }
        
        .custo-total {
            background: linear-gradient(45deg, #D4B31A, #B69816);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 18px;
        }

        .palpite-card {
            background: linear-gradient(135deg, #FCF9E8, #F9F2D2);
            border: 2px solid #D4B31A;

            font-size: 14px;
            margin: 2px;
        }

        .mes-minimalista {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            padding: 4px 8px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 12px;
            margin: 2px;
        }

        .jogo-minimalista-card {
            background: linear-gradient(to right, #faf5ff, #f3e8ff);
            border: 2px solid #8b5cf6;

            border-radius: 12px;
            padding: 12px;
            margin: 8px 0;
        }


        .numero-palpite {
            width: 30px;
            height: 30px;

        .input-manual {
            min-height: 80px;
            border: 3px dashed #8b5cf6;
            border-radius: 12px;
            background: linear-gradient(135deg, #faf5ff, #f3e8ff);
            padding: 16px;
            color: #8b5cf6;
            font-weight: bold;
        }

        .input-manual:focus {
            outline: none;
            border-color: #7c3aed;
            background: linear-gradient(135deg, #f3e8ff, #e9d5ff);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .regra-item {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border: 2px solid #10b981;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            transition: all 0.3s;
        }

        .regra-item:hover {
            border-color: #059669;
            transform: scale(1.01);
        }

        .regra-item.ativa {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            border-color: #059669;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
        }

        .numero-resultado {
            width: 60px;
            height: 60px;

            background: linear-gradient(135deg, #D4B31A, #E6C533);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;

            font-size: 12px;
            margin: 2px;
        }

        .mes-palpite {
            min-width: 50px;
            height: 30px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: white;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 10px;
            margin: 2px;
            padding: 0 6px;
        }

        @media (max-width: 768px) {
            .numero-btn { width: 40px; height: 40px; font-size: 12px; }
            .numero-drop { width: 30px; height: 30px; font-size: 12px; }
            .mes-btn { min-width: 70px; height: 40px; font-size: 11px; }

            font-size: 18px;
            margin: 0 4px;
        }

        .mes-resultado {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            padding: 8px 16px;
            border-radius: 12px;
            font-weight: bold;
            font-size: 16px;
            margin-left: 16px;
        }

        .config-principal {
            background: linear-gradient(135deg, #F4E5A4, #E6C533);
            border: 3px solid #B69816;
            border-radius: 16px;
            margin-bottom: 24px;
        }

        .config-header {
            background: linear-gradient(135deg, #D4B31A, #E6C533);
            color: white;
            padding: 12px 20px;
            border-radius: 12px 12px 0 0;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
        }

        .config-content {
            background: linear-gradient(135deg, #FCF9E8, #F9F2D2);
            padding: 20px;
            border-radius: 0 0 12px 12px;
        }

        .valor-input {
            background: white;
            border: 2px solid #B69816;
            border-radius: 8px;
            padding: 8px 12px;
            font-weight: bold;
            font-size: 16px;
            color: #887211;
            width: 120px;
            text-align: center;
        }

        .valor-input:focus {
            outline: none;
            border-color: #D4B31A;
            box-shadow: 0 0 0 3px rgba(212, 179, 26, 0.1);
        }

        .btn-atualizar {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-atualizar:hover {
            background: linear-gradient(135deg, #b91c1c, #dc2626);
            transform: scale(1.05);
        }

        .status-badge {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        @media (max-width: 768px) {
            .numero-dias { width: 45px; height: 45px; font-size: 14px; }
            .numero-drop { width: 30px; height: 30px; font-size: 12px; }
            .mes-sorte { width: 50px; height: 35px; font-size: 12px; }

        }
    </style>
</head>
<body class="bg-diasorte-bg min-h-screen">
    <div class="container mx-auto px-4 py-6">
        <!-- Header -->
        <div class="text-center mb-6">

		<img src="https://i.postimg.cc/3R2PytCp/diadesorte.png" alt="Dia de Sorte Logo" class="logo"><br/>
            <p class="text-gray-600">Gerador Completo: Manual + Minimalista com 19 Regras Avan√ßadas</p>
            <div class="flex justify-center gap-4 mt-4 text-sm">
                <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full">üîç An√°lise dos D√≠gitos</span>
                <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full">üîÑ Resultados Alterados</span>
                <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full">üìä Estrat√©gia Minimalista</span>
            </div>
        </div>

        <!-- Configura√ß√£o Principal -->
        <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-diasorte mb-6">
            <h2 class="text-2xl font-bold text-diasorte mb-4">‚öôÔ∏è CONFIGURA√á√ÉO PRINCIPAL</h2>
            <div class="bg-gradient-to-r from-diasorte-bg to-yellow-50 p-4 rounded-lg border-2 border-diasorte">
                <h3 class="text-lg font-bold text-diasorte mb-3">‚öôÔ∏è CONFIGURA√á√ÉO PRINCIPAL - VALORES DO DIA DE SORTE</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-4 rounded-lg border border-diasorte">
                        <div class="mb-3">
                            <label class="block text-diasorte font-bold mb-2">üí∞ Valor da Aposta (7 n√∫meros + m√™s):</label>
                            <div class="flex items-center gap-2">
                                <span class="text-lg">R$</span>
                                <input type="number" id="valorAposta" value="2.50" step="0.01" min="0.01" 
                                       class="flex-1 px-3 py-2 border border-gray-300 rounded-lg text-base font-bold text-diasorte">
                                <button id="atualizarValor" class="bg-diasorte hover:bg-diasorte-dark text-white px-4 py-2 rounded-lg">
                                    üîÑ Atualizar
                                </button>
                            </div>
                            <div class="text-sm text-gray-600 mt-1">
                                <strong>Padr√£o oficial:</strong> R$ 2,50 (CEF)
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <div class="text-sm font-medium text-diasorte mb-2">üìä Sistema Simplificado:</div>
                            <div class="text-sm text-gray-700 space-y-1">
                                <div><strong>7 n√∫meros + m√™s:</strong> R$ <span id="valor7numeros">2,50</span></div>
                                <div class="text-xs text-gray-600">Valor fixo por jogo no Dia de Sorte</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white p-4 rounded-lg border border-diasorte">
                        <div class="mb-3">
                            <div class="text-sm font-medium text-diasorte mb-2">üí° Status do Sistema:</div>
                            <div class="text-sm text-green-600 font-bold">‚úÖ Sistema configurado</div>
                            <div class="text-xs text-gray-600">√öltima atualiza√ß√£o: <span id="ultimaAtualizacao">-</span></div>
                            <div class="text-xs text-gray-600">Total de se√ß√µes: <strong>3</strong> (Manual + Minimalista + An√°lise)</div>
                        </div>
                        
                        <div class="bg-blue-50 p-3 rounded-lg">
                            <div class="text-sm font-medium text-blue-800 mb-1">üîß Como funciona:</div>
                            <div class="text-xs text-blue-700">
                                O Dia de Sorte tem valor fixo de R$ 2,50 por jogo (7 n√∫meros + m√™s da sorte). 
                                O sistema atualiza automaticamente todas as se√ß√µes de gera√ß√£o.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading -->
        <div id="loading" class="text-center py-8">
            <div class="loading-circle mx-auto mb-4"></div>
            <p class="text-diasorte font-medium">üîç Carregando √∫ltimo resultado do Dia de Sorte...</p>

            <img src="https://i.postimg.cc/3R2PytCp/diadesorte.png" alt="Dia de Sorte Logo" class="logo"><br />
            <p class="text-gray-600">Gerador Completo: Manual + Minimalista com 19 Regras Avan√ßadas</p>
            
            <!-- Bot√µes de Navega√ß√£o -->
            <div class="flex flex-wrap justify-center gap-2 mt-4">
                <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">
                    üîç An√°lise de Datas
                </button>
                <button class="bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm">
                    üîÑ Resultados Alterados
                </button>
                <button class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm">
                    üìä Estrat√©gia Minimalista
                </button>
            </div>
        </div>

        <!-- ‚öôÔ∏è CONFIGURA√á√ÉO PRINCIPAL - VALORES DO DIA DE SORTE -->
        <div class="config-principal">
            <div class="config-header">
                <span>‚öôÔ∏è</span>
                <span>CONFIGURA√á√ÉO PRINCIPAL</span>
            </div>
            
            <div class="bg-diasorte text-white text-center py-2 font-bold">
                ‚öôÔ∏è CONFIGURA√á√ÉO PRINCIPAL - VALORES DO DIA DE SORTE
            </div>
            
            <div class="config-content">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    
                    <!-- Valor da Aposta Simples -->
                    <div class="bg-white rounded-lg p-4 border-2 border-amber-400">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">üí∞</span>
                            <span class="font-bold text-amber-800">Valor da Aposta Simples (7 dezenas):</span>
                        </div>
                        <div class="flex items-center gap-3 mb-3">
                            <span class="text-xl font-bold text-amber-900">R$</span>
                            <input 
                                type="number" 
                                id="valorApostaSimples" 
                                class="valor-input" 
                                value="2.50" 
                                step="0.01" 
                                min="0.01"
                            >
                            <button id="atualizarValor" class="btn-atualizar">
                                üîÑ Atualizar
                            </button>
                        </div>
                        <div class="text-sm text-amber-700">
                            <strong>Padr√£o oficial:</strong> R$ 2,50 (CEF)
                        </div>
                    </div>

                    <!-- Multiplicadores Autom√°ticos -->
                    <div class="bg-white rounded-lg p-4 border-2 border-blue-400">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">üìä</span>
                            <span class="font-bold text-blue-800">Multiplicadores Autom√°ticos:</span>
                        </div>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="font-medium">8 dezenas:</span>
                                <span id="valor8dezenas" class="text-blue-700 font-bold">8x = R$ 20,00</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-medium">9 dezenas:</span>
                                <span id="valor9dezenas" class="text-blue-700 font-bold">36x = R$ 90,00</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-medium">15 dezenas:</span>
                                <span id="valor15dezenas" class="text-blue-700 font-bold">6435x = R$ 16.087,50</span>
                            </div>
                        </div>
                    </div>

                    <!-- Status do Sistema -->
                    <div class="bg-white rounded-lg p-4 border-2 border-green-400">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">üí°</span>
                            <span class="font-bold text-green-800">Status do Sistema:</span>
                        </div>
                        <div class="space-y-2">
                            <div>
                                <span class="status-badge">
                                    ‚úÖ Sistema configurado
                                </span>
                            </div>
                            <div class="text-sm text-green-700">
                                <strong>√öltima atualiza√ß√£o:</strong> <span id="ultimaAtualizacao">-</span><br>
                                <strong>Total de se√ß√µes:</strong> 2 (Manual + Minimalista)
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Explica√ß√£o do Sistema -->
                <div class="mt-6 p-4 bg-gradient-to-r from-orange-50 to-yellow-50 border-2 border-orange-300 rounded-lg">
                    <div class="flex items-start gap-2">
                        <span class="text-xl">üîß</span>
                        <div>
                            <div class="font-bold text-orange-800 mb-2">Como funciona:</div>
                            <div class="text-sm text-orange-700">
                                Define o valor da aposta simples acima e todos os outros valores ser√£o calculados automaticamente usando os multiplicadores oficiais da Caixa. O sistema atualiza automaticamente ambas as se√ß√µes de gera√ß√£o de jogos.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <!-- √öltimo Resultado -->
        <div id="ultimoResultado" class="hidden mb-6">
            <div class="bg-white rounded-lg shadow-lg overflow-hidden border-2 border-diasorte">
                <div class="bg-diasorte text-white p-4 text-center">
                    <h2 id="tituloResultado" class="text-xl font-bold">Concurso</h2>
                    <div id="dataResultado" class="text-sm">üìÖ Data do sorteio</div>
                </div>
                
                <div class="p-6 text-center">

                    <div class="flex justify-center items-center gap-6 mb-4">
                        <div>
                            <div class="text-sm font-medium text-gray-600 mb-2">N√∫meros Sorteados:</div>
                            <div id="numerosResultado" class="flex justify-center gap-2 flex-wrap">
                                <!-- N√∫meros sorteados ser√£o inseridos aqui -->
                            </div>

                    <div class="flex justify-center items-center gap-2 mb-4">
                        <div id="numerosResultado" class="flex justify-center gap-2">
                            <!-- N√∫meros sorteados ser√£o inseridos aqui -->

                        </div>
                        <div id="mesResultado">
                            <!-- M√™s da sorte ser√° inserido aqui -->
                        </div>
                    </div>
                    


                    <div id="statusResultado" class="text-lg font-bold mb-4 text-red-600">
                        <!-- Status ser√° inserido aqui -->
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <div id="premiacao6"></div>
                        <div id="premiacao5"></div>
                    </div>
                    

                    <div class="mt-4 text-center">
                        <div class="text-sm text-gray-600">Pr√≥ximo Sorteio: <span id="proximoConcurso">Concurso</span></div>
                        <div class="text-sm text-gray-600" id="dataProximoConcurso">Data</div>
                        <div class="text-2xl font-bold text-diasorte mt-2" id="premioEstimado">Pr√™mio Estimado</div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Interface Principal -->
        <div id="interfacePrincipal" class="hidden space-y-6">
            
            <!-- SE√á√ÉO 1: CRIA√á√ÉO MANUAL DE JOGOS -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-diasorte">
                <h2 class="text-2xl font-bold text-diasorte mb-6">üéÆ SE√á√ÉO 1: CRIA√á√ÉO MANUAL DE JOGOS</h2>

                <!-- Estrat√©gia Par/√çmpar -->
                <div class="mb-6 p-5 bg-gradient-to-br from-orange-50 via-yellow-50 to-red-50 border-4 border-orange-400 rounded-xl shadow-lg">
                    <div class="text-xl font-bold text-gray-800 mb-4 text-center">‚ö™ ESTRAT√âGIA: PARES vs √çMPARES</div>
                    
                    <div id="padraoHistorico" class="mb-4 p-4 bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-orange-300 rounded-lg text-center">
                        <div class="text-sm font-bold text-orange-800 mb-2">üèÜ PADR√ÉO MAIS COMUM:</div>
                        <div class="text-2xl font-bold text-orange-900 mb-1">
                            <span class="text-green-600" id="padraoParesHistorico">3</span>P/<span class="text-purple-600" id="padraoImparesHistorico">4</span>I
                        </div>
                        <div class="text-sm text-orange-700">
                            <span id="padraoOcorrencias" class="font-bold">156</span> vezes (<span id="padraoPorcentagem" class="font-bold">28.7</span>%)
                        </div>
                    </div>

                    <div id="estatisticaUltimoSorteio" class="mb-4 p-3 bg-blue-100 border border-blue-300 rounded-lg text-center">
                        <div class="text-sm font-medium text-blue-800">üìä √öLTIMO SORTEIO:</div>
                        <div class="text-lg font-bold text-blue-900">
                            <span id="paresUltimoSorteio" class="text-green-600">3</span>P + <span id="imparesUltimoSorteio" class="text-purple-600">4</span>I
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-6 mb-4">
                        <div class="text-center p-4 bg-green-100 rounded-lg border-2 border-green-300">
                            <div class="text-4xl font-bold text-green-600 contador-destaque" id="paresAtuais">0</div>
                            <div class="text-lg font-bold text-green-700">PARES</div>
                            <div class="text-sm text-green-600">üéØ Meta: <span id="metaPares" class="font-bold">3</span></div>
                        </div>
                        <div class="text-center p-4 bg-purple-100 rounded-lg border-2 border-purple-300">
                            <div class="text-4xl font-bold text-purple-600 contador-destaque" id="imparesAtuais">0</div>
                            <div class="text-lg font-bold text-purple-700">√çMPARES</div>
                            <div class="text-sm text-purple-600">üéØ Meta: <span id="metaImpares" class="font-bold">4</span></div>
                        </div>
                    </div>
                    
                    <div id="statusEstrategia" class="text-center p-3 rounded-lg font-bold text-lg bg-gray-100 text-gray-700">
                        üéØ Selecione n√∫meros para ver sua estrat√©gia
                    </div>
                </div>

                <!-- Controle de N√∫meros Sorteados -->
                <div id="controleNumerosSorteados" class="mb-4 p-3 bg-orange-50 border border-orange-200 rounded-lg hidden">
                    <div class="flex justify-between items-center mb-2">
                        <div class="text-sm font-medium text-orange-800">
                            üéØ N√∫meros j√° sorteados: <span id="numerosSorteadosLista" class="font-bold"></span>
                        </div>
                        <label class="flex items-center text-sm">
                            <input type="checkbox" id="permitirNumerosSorteados" class="mr-2">
                            <span class="text-orange-700">üîì Permitir usar n√∫meros j√° sorteados</span>
                        </label>
                    </div>
                </div>

                <!-- Inser√ß√£o Manual -->
                <div class="mb-6">
                    <label class="block text-diasorte font-medium mb-2">‚úèÔ∏è Inser√ß√£o Manual de N√∫meros:</label>
                    <div class="flex gap-2">
                        <textarea 
                            id="insertionManual" 
                            class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-diasorte text-base resize-none" 
                            placeholder="Exemplos:&#10;05 12 18 22 24 27 31 + Janeiro&#10;10 15 20 25 28 30 31 + Mar√ßo&#10;01 07 14 16 23 29 31 + Dezembro"
                            rows="3"
                        ></textarea>
                        <button id="processarManual" class="bg-diasorte hover:bg-diasorte-dark text-white px-4 py-2 rounded-lg">
                            üìù Processar
                        </button>
                    </div>
                    <div class="text-xs text-gray-600 mt-1">üí° Dica: Cole n√∫meros de qualquer formato</div>
                </div>

                <!-- Grid de N√∫meros -->
                <div class="mb-6">
                    <label class="block text-diasorte font-medium mb-2">Selecione 7 N√∫meros (01-31):</label>
                    <div class="text-xs mb-2 text-gray-600">
                        <span class="text-green-600">‚óè</span> Verde = Pares | 
                        <span class="text-purple-600">‚óè</span> Roxo = √çmpares | 
                        <span class="text-orange-600">üéØ</span> J√° sorteados
                    </div>
                    <div id="gridNumeros" class="grid grid-cols-6 gap-2 mb-4">
                        <!-- N√∫meros ser√£o gerados via JavaScript -->
                    </div>
                </div>

                <!-- Grid de Meses -->
                <div class="mb-6">
                    <label class="block text-diasorte font-medium mb-2">Selecione o M√™s da Sorte:</label>
                    <div id="gridMeses" class="grid grid-cols-3 gap-2 mb-4">
                        <!-- Meses ser√£o gerados via JavaScript -->
                    </div>
                </div>

                <!-- √Årea de Drop -->
                <div class="mb-6">
                    <label class="block text-diasorte font-medium mb-2">üéØ N√∫meros Selecionados:</label>
                    <div id="dropZone" class="drop-zone">
                        <div id="dropMessage">
                            <div class="text-lg mb-2">üì• Arraste n√∫meros aqui ou clique nos n√∫meros acima</div>
                            <div class="text-sm">Os n√∫meros selecionados aparecer√£o aqui</div>
                        </div>
                        <div id="itemsDropped" class="hidden flex flex-wrap justify-center gap-1">
                            <!-- N√∫meros selecionados aparecer√£o aqui -->
                        </div>
                    </div>
                    <div class="flex justify-between items-center mt-2 text-xs text-gray-600">
                        <span>Meta: <strong>7 n√∫meros + 1 m√™s</strong></span>
                        <span>Atual: <span id="numerosNaArea" class="font-bold">0</span> n√∫meros + <span id="mesesNaArea" class="font-bold">0</span> m√™s</span>
                    </div>
                </div>

                <!-- Bot√µes de A√ß√£o -->
                <div class="flex flex-wrap gap-2">
                    <button id="limparJogo" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg">
                        üóëÔ∏è Limpar
                    </button>
                    <button id="randomizarJogo" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg">
                        üé≤ Aleat√≥rio
                    </button>
                    <button id="adicionarJogo" class="bg-diasorte hover:bg-diasorte-dark text-white px-4 py-2 rounded-lg disabled:opacity-50" disabled>
                        ‚ûï Adicionar Jogo
                    </button>
                </div>
            </div>

            <!-- SE√á√ÉO 2: GERA√á√ÉO MINIMALISTA -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-4 border-green-400">
                <h2 class="text-2xl font-bold text-green-600 mb-6">üßÆ SE√á√ÉO 2: GERA√á√ÉO MINIMALISTA</h2>

                <!-- Dados do Pr√≥ximo Sorteio -->
                <div class="bg-gradient-to-r from-blue-50 via-green-50 to-yellow-50 p-4 rounded-lg border-2 border-blue-200 mb-6">
                    <h3 class="text-lg font-bold text-blue-800 mb-3">üìä Dados do Pr√≥ximo Sorteio</h3>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="text-center">
                            <div class="text-sm font-medium text-blue-800">üéØ Concurso:</div>
                            <div id="concursoNum" class="text-lg font-bold text-blue-900">Loading...</div>
                        </div>
                        <div class="text-center">
                            <div class="text-sm font-medium text-green-800">üìÖ Data:</div>
                            <div id="dataProximo" class="text-lg font-bold text-green-900">Loading...</div>
                        </div>
                        <div class="text-center">
                            <div class="text-sm font-medium text-yellow-800">üí∞ Pr√™mio:</div>
                            <div id="premioProximo" class="text-lg font-bold text-yellow-900">Loading...</div>
                        </div>
                        <div class="text-center">
                            <div class="text-sm font-medium text-purple-800">üìà Status:</div>
                            <div id="statusConcurso" class="text-lg font-bold text-purple-900">Carregando...</div>
                        </div>
                    </div>
                </div>

                <!-- Regras Minimalistas COM CHECKBOXES -->
                <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 mb-6">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="text-lg font-bold text-gray-800">üìã Regras Minimalistas:</h3>
                        <div class="flex gap-2">
                            <button id="selecionarTodas" class="text-xs bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600">‚úì Todas</button>
                            <button id="limparTodas" class="text-xs bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600">‚úó Limpar</button>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-700 max-h-64 overflow-y-auto">
                        <div class="space-y-1">
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R1" checked>
                                <div><strong>R1 - Direto</strong><br><span class="text-xs">N√∫meros que aparecem puros (dia, m√™s, ano)</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R2" checked>
                                <div><strong>R2 - Soma</strong><br><span class="text-xs">Somar d√≠gitos das informa√ß√µes da base</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R3" checked>
                                <div><strong>R3 - Dobro/Mult.</strong><br><span class="text-xs">Dobrar ou multiplicar n√∫meros</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R4" checked>
                                <div><strong>R4 - Diferen√ßa</strong><br><span class="text-xs">Subtrair valores entre si</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R5" checked>
                                <div><strong>R5 - Inverso</strong><br><span class="text-xs">Espelhar n√∫meros (ex: 25‚Üí52)</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R6" checked>
                                <div><strong>R6 - Vizinhos</strong><br><span class="text-xs">Determinar n√∫meros pr√≥ximos</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R7" checked>
                                <div><strong>R7 - Soma Cruzada</strong><br><span class="text-xs">Somar elementos de mesma linha</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R8" checked>
                                <div><strong>R8 - Componentes Diretos</strong><br><span class="text-xs">Prefixo/sufixo do ano, m√™s, dia, partes do concurso</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R9">
                                <div><strong>R9 - Soma D√≠gitos Concurso</strong><br><span class="text-xs">Somar d√≠gitos do n√∫mero do concurso</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R10">
                                <div><strong>R10 - Soma Simples</strong><br><span class="text-xs">Dia+ano, m√™s+ano, partes do concurso</span></div>
                            </label>
                        </div>
                        <div class="space-y-1">
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R11">
                                <div><strong>R11 - Diferen√ßa Absoluta</strong><br><span class="text-xs">Diferen√ßas entre componentes-chave</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R12">
                                <div><strong>R12 - Ajustes ¬±1/¬±2</strong><br><span class="text-xs">Deslocamentos em n√∫meros centrais</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R13">
                                <div><strong>R13 - Reverso 2 D√≠gitos</strong><br><span class="text-xs">Inverter ordem dos d√≠gitos (ex: 35‚Üí53)</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R14">
                                <div><strong>R14 - Soma como Operador</strong><br><span class="text-xs">Usar soma d√≠gitos ano/m√™s como operador</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R15">
                                <div><strong>R15 - M√∫ltiplos de 5</strong><br><span class="text-xs">Clima dos cincos (5,10,15,20,25,30)</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R16">
                                <div><strong>R16 - Vizinhos ¬±1</strong><br><span class="text-xs">N√∫meros adjacentes aos importantes</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R17">
                                <div><strong>R17 - Filtragem Inteligente</strong><br><span class="text-xs">Evitar sequ√™ncias √≥bvias e repeti√ß√µes</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R18">
                                <div><strong>R18 - Ordem de Prioridade</strong><br><span class="text-xs">Priorizar componentes mais importantes</span></div>
                            </label>
                            <label class="flex items-start gap-2 hover:bg-white p-1 rounded cursor-pointer">
                                <input type="checkbox" class="regra-checkbox mt-1" data-regra="R19">
                                <div><strong>R19 - Formato Otimizado</strong><br><span class="text-xs">Sa√≠da ordenada e sem duplicatas</span></div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                        <div class="bg-white p-3 rounded border">
                            üìã Regras selecionadas: <span id="regrasCount" class="font-bold text-green-600">8</span> de 19 dispon√≠veis
                        </div>
                        <div class="bg-white p-3 rounded border">
                            üí° Recomenda√ß√£o: Use pelo menos 5 regras para maior diversidade
                        </div>
                        <div class="bg-white p-3 rounded border text-blue-600">
                            üéØ Novo: 12 regras avan√ßadas do Preset Origem Minimalista
                        </div>
                    </div>
                </div>

                <!-- Configura√ß√µes e Gera√ß√£o -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <h3 class="text-lg font-bold text-gray-800 mb-3">‚öôÔ∏è Configura√ß√µes:</h3>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Quantidade:</label>
                                <select id="quantidadeJogos" class="w-full px-3 py-2 border border-gray-300 rounded text-base">
                                    <option value="3">3 jogos</option>
                                    <option value="5" selected>5 jogos</option>
                                    <option value="7">7 jogos</option>
                                    <option value="10">10 jogos</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">N√∫meros (7 + m√™s):</label>
                                <select id="quantidadeNumeros" class="w-full px-3 py-2 border border-gray-300 rounded text-base">
                                    <option value="7" selected>7 n√∫meros + m√™s</option>
                                </select>
                                <div class="text-xs text-gray-600 mt-1">Dia de Sorte: sempre 7 n√∫meros + m√™s da sorte</div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">üéØ Estrat√©gia:</label>
                                <select id="estrategiaGeracao" class="w-full px-3 py-2 border border-gray-300 rounded text-base">
                                    <option value="equilibrada" selected>üéØ Equilibrada (3P/4I)</option>
                                    <option value="aleatoria">üé≤ Totalmente Aleat√≥rio</option>
                                    <option value="mais-pares">üìä Mais Pares</option>
                                    <option value="mais-impares">üìä Mais √çmpares</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <!-- Bot√£o de Gera√ß√£o -->
                        <button id="gerarMinimalistas" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-6 rounded-lg text-lg">
                            üöÄ Gerar Jogos Minimalistas
                        </button>

                        <!-- Status da Gera√ß√£o -->
                        <div id="statusGeracao" class="hidden bg-blue-50 p-3 rounded-lg border border-blue-200">
                            <div class="text-sm font-medium text-blue-800">üîÑ Gerando jogos com regras minimalistas...</div>
                        </div>
                    </div>
                </div>

                <!-- Resultados -->
                <div id="resultadosMinimalistas" class="hidden">
                    <div class="bg-green-50 p-4 rounded-lg border border-green-200 mb-4">
                        <h4 class="font-bold text-green-800 mb-2">üéØ Jogos Gerados:</h4>
                        <button id="adicionarTodosGerados" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg">
                            ‚ûï Adicionar Todos
                        </button>
                    </div>
                    
                    <div class="bg-white border border-gray-200 rounded-lg p-4 max-h-80 overflow-y-auto">
                        <div id="listaJogosGerados" class="space-y-2">
                            <!-- Jogos gerados aparecer√£o aqui -->
                        </div>
                    </div>

        <!-- LAYOUT REORGANIZADO: SE√á√ïES LADO A LADO -->
        
        <!-- Primeira linha: SE√á√ÉO 1 e SE√á√ÉO 2 lado a lado -->
        <div class="grid grid-cols-1 xl:grid-cols-2 gap-6 mb-6">
            
            <!-- üéÆ SE√á√ÉO 1: JOGO MANUAL COMPLETO -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-diasorte">
                <h3 class="text-xl font-bold text-diasorte mb-4">üéÆ SE√á√ÉO 1: CRIA√á√ÉO MANUAL DE JOGOS</h3>

                <!-- Estrat√©gia de Datas em Tempo Real -->
                <div class="mb-6 p-5 bg-gradient-to-br from-yellow-50 via-orange-50 to-green-50 border-4 border-diasorte rounded-xl shadow-lg">
                    <div class="text-lg font-bold text-gray-800 mb-3 text-center">üìÖ ESTRAT√âGIA: DISTRIBUI√á√ÉO DE DATAS</div>
                    
                    <!-- Padr√£o Hist√≥rico -->
                    <div class="mb-3 p-3 bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-orange-300 rounded-lg text-center">
                        <div class="text-sm font-bold text-orange-800 mb-1">üèÜ PADR√ÉO MAIS COMUM:</div>
                        <div class="text-xl font-bold text-orange-900 mb-1">
                            <span class="text-green-600">2-3</span> In√≠cio + <span class="text-yellow-600">2-3</span> Meio + <span class="text-purple-600">2-3</span> Final
                        </div>
                        <div class="text-xs text-orange-700">
                            Distribui√ß√£o equilibrada entre <span class="font-bold">1-10</span>, <span class="font-bold">11-20</span>, <span class="font-bold">21-31</span>
                        </div>
                    </div>

                    <!-- √öltimo Sorteio -->
                    <div class="mb-3 p-2 bg-blue-100 border border-blue-300 rounded-lg text-center">
                        <div class="text-xs font-medium text-blue-800">üìä √öLTIMO SORTEIO:</div>
                        <div class="text-sm font-bold text-blue-900">
                            <span id="inicioUltimoSorteio" class="text-green-600">2</span> + 
                            <span id="meioUltimoSorteio" class="text-yellow-600">3</span> + 
                            <span id="finalUltimoSorteio" class="text-purple-600">2</span>
                        </div>
                    </div>
                    
                    <!-- Contador Visual Atual -->
                    <div class="grid grid-cols-3 gap-2 mb-3">
                        <div class="text-center p-3 bg-green-100 rounded-lg border-2 border-green-300">
                            <div class="text-2xl font-bold text-green-600 contador-destaque" id="inicioAtuais">0</div>
                            <div class="text-xs font-bold text-green-700">IN√çCIO (1-10)</div>
                            <div class="text-xs text-green-600">üéØ Meta: <span class="font-bold">2-3</span></div>
                        </div>
                        <div class="text-center p-3 bg-yellow-100 rounded-lg border-2 border-yellow-300">
                            <div class="text-2xl font-bold text-yellow-600 contador-destaque" id="meioAtuais">0</div>
                            <div class="text-xs font-bold text-yellow-700">MEIO (11-20)</div>
                            <div class="text-xs text-yellow-600">üéØ Meta: <span class="font-bold">2-3</span></div>
                        </div>
                        <div class="text-center p-3 bg-purple-100 rounded-lg border-2 border-purple-300">
                            <div class="text-2xl font-bold text-purple-600 contador-destaque" id="finalAtuais">0</div>
                            <div class="text-xs font-bold text-purple-700">FINAL (21-31)</div>
                            <div class="text-xs text-purple-600">üéØ Meta: <span class="font-bold">2-3</span></div>
                        </div>
                    </div>
                    
                    <!-- Status da Estrat√©gia -->
                    <div id="statusEstrategiaData" class="text-center p-2 rounded-lg font-bold text-sm bg-gray-100 text-gray-700">
                        üéØ Selecione n√∫meros para ver sua estrat√©gia
                    </div>
                </div>

                <!-- N√∫meros Sorteados -->
                <div class="mb-4 p-3 bg-red-50 border-2 border-red-300 rounded-lg">
                    <div class="text-sm font-bold text-red-800 mb-2">üéØ N√∫meros j√° sorteados:</div>
                    <div id="numerosSorteadosDisplay" class="flex flex-wrap gap-1 mb-2">
                        <!-- N√∫meros sorteados aparecer√£o aqui -->
                    </div>
                    <div class="text-sm font-bold text-green-800 mb-2">üóìÔ∏è M√™s da sorte anterior:</div>
                    <div id="mesAnteriorDisplay" class="mb-2">
                        <!-- M√™s anterior aparecer√° aqui -->
                    </div>
                    <div class="flex items-center">
                        <input type="checkbox" id="permitirSorteados" class="mr-2 scale-110">
                        <label for="permitirSorteados" class="text-red-800 text-sm font-medium">
                            üîì Permitir usar n√∫meros j√° sorteados
                        </label>
                    </div>
                </div>
            
                <!-- Quantidade de Dezenas -->
                <div class="mb-3">
                    <label class="block text-diasorte font-medium mb-2 text-sm">Quantidade de Dezenas:</label>
                    <select id="quantidadeDezenas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-diasorte text-base">
                        <option value="7" selected>7 dezenas - R$ 2,50</option>
                        <option value="8">8 dezenas - R$ 20,00</option>
                        <option value="9">9 dezenas - R$ 90,00</option>
                        <option value="10">10 dezenas - R$ 300,00</option>
                        <option value="11">11 dezenas - R$ 825,00</option>
                    </select>
                </div>

                <!-- Inser√ß√£o Manual -->
                <div class="mb-4">
                    <label class="block text-purple-600 font-medium mb-2 text-sm">‚úèÔ∏è Inser√ß√£o Manual de N√∫meros:</label>
                    <textarea 
                        id="inputManual" 
                        class="w-full input-manual resize-none text-sm"
                        placeholder="Digite os n√∫meros separados por v√≠rgula, espa√ßo ou quebra de linha...
Exemplos: 01, 02, 03, 04, 05, 06, 07"
                        rows="3"
                    ></textarea>
                    <div class="flex justify-between items-center mt-2 text-xs">
                        <span class="text-purple-600">üí° Dica: Cole n√∫meros de qualquer formato</span>
                        <button id="processarInput" class="bg-purple-500 hover:bg-purple-600 text-white px-3 py-1 rounded text-xs">
                            üìù Processar
                        </button>
                    </div>
                </div>

                <!-- Grid de N√∫meros 1-31 -->
                <div class="mb-4">
                    <label class="block text-diasorte font-medium mb-2 text-sm">Selecione as Dezenas (01-31):</label>
                    <div class="text-xs mb-2 text-gray-600">
                        <span class="text-green-600">‚óè</span> Verde = In√≠cio (1-10) | 
                        <span class="text-yellow-600">‚óè</span> Amarelo = Meio (11-20) |
                        <span class="text-purple-600">‚óè</span> Roxo = Final (21-31) |
                        <span class="text-red-600">üéØ</span> J√° sorteados
                    </div>
                    <div id="gridNumeros" class="grid grid-cols-6 gap-2">
                        <!-- N√∫meros de 01 a 31 ser√£o gerados aqui -->
                    </div>
                </div>

                <!-- Sele√ß√£o do M√™s da Sorte -->
                <div class="mb-4">
                    <label class="block text-green-600 font-medium mb-2 text-sm">üóìÔ∏è M√™s da Sorte (01-12):</label>
                    <div class="text-xs mb-2 text-gray-600">
                        Selecione 1 m√™s que ser√° sorteado junto com os n√∫meros
                    </div>
                    <div id="gridMeses" class="grid grid-cols-6 gap-2">
                        <!-- Meses de 01 a 12 ser√£o gerados aqui -->
                    </div>
                </div>

                <!-- √Årea de Drag and Drop -->
                <div class="mb-4">
                    <label class="block text-diasorte font-medium mb-2 text-sm">üéØ N√∫meros Selecionados:</label>
                    <div 
                        id="dropZone" 
                        class="drop-zone"
                        ondrop="drop(event)" 
                        ondragover="allowDrop(event)"
                        ondragenter="dragEnter(event)"
                        ondragleave="dragLeave(event)"
                    >
                        <div id="dropMessage">
                            <div class="text-sm mb-1">üì• Arraste n√∫meros aqui ou clique nos n√∫meros acima</div>
                            <div class="text-xs">Os n√∫meros selecionados aparecer√£o aqui</div>
                        </div>
                        <div id="numerosDropped" class="hidden flex flex-wrap justify-center gap-1">
                            <!-- N√∫meros selecionados aparecer√£o aqui -->
                        </div>
                    </div>
                    <div class="flex justify-between items-center mt-2 text-xs text-gray-600">
                        <span>Meta: <span id="quantidadeEspecificada" class="font-bold">7</span> n√∫meros + 1 m√™s</span>
                        <span>Atual: <span id="numerosNaArea" class="font-bold">0</span> n√∫meros + <span id="mesesNaArea" class="font-bold">0</span> m√™s</span>
                        <button id="limparArea" class="bg-gray-400 hover:bg-gray-500 text-white px-2 py-1 rounded text-xs">
                            üóëÔ∏è Limpar
                        </button>
                    </div>
                </div>

                <!-- Bot√µes de A√ß√£o -->
                <div class="flex flex-wrap gap-2">
                    <button id="limparJogo" class="bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-lg text-sm">
                        üóëÔ∏è Limpar
                    </button>
                    <button id="randomizarJogo" class="bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded-lg text-sm">
                        üé≤ Aleat√≥rio
                    </button>
                    <button id="adicionarJogo" class="bg-diasorte hover:bg-diasorte-dark text-white px-3 py-2 rounded-lg text-sm disabled:opacity-50" disabled>
                        ‚ûï Adicionar Jogo
                    </button>

                </div>
            </div>
            
            <!-- üßÆ SE√á√ÉO 2: GERA√á√ÉO MINIMALISTA -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-purple-500">
                <h3 class="text-xl font-bold text-purple-600 mb-4">üßÆ SE√á√ÉO 2: GERA√á√ÉO MINIMALISTA</h3>


            <!-- SE√á√ÉO 3: AN√ÅLISE DE PADR√ïES CLEAN -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-blue-400">
                <h2 class="text-2xl font-bold text-blue-600 mb-6">üìä SE√á√ÉO 3: AN√ÅLISE DE PADR√ïES E N√öMEROS AUSENTES</h2>

                <!-- Padr√µes do √öltimo Concurso - CLEAN -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="bg-blue-50 p-6 rounded-lg border border-blue-200">
                        <h3 class="text-xl font-bold text-blue-800 mb-4">üìà Padr√£o do √öltimo Concurso (Ordem Crescente)</h3>
                        <div class="text-center">
                            <div id="numerosCrescente" class="text-2xl font-bold text-gray-800 mb-3">[Carregando...]</div>
                            <div id="padraoNumericoCrescente" class="text-xl font-mono font-bold text-blue-600 bg-white p-3 rounded border-2 border-blue-300">[Aguardando...]</div>
                            <div class="text-sm text-green-600 font-bold mt-2">‚úÖ Resumindo: SOMENTE ESTA INFORMA√á√ÉO</div>
                        </div>
                    </div>
                    
                    <div class="bg-orange-50 p-6 rounded-lg border border-orange-200">
                        <h3 class="text-xl font-bold text-orange-800 mb-4">üéØ Padr√£o do √öltimo Concurso (Ordem de Sorteio)</h3>
                        <div class="text-center">
                            <div id="numerosSorteio" class="text-2xl font-bold text-gray-800 mb-3">[Carregando...]</div>
                            <div id="padraoNumericoSorteio" class="text-xl font-mono font-bold text-orange-600 bg-white p-3 rounded border-2 border-orange-300">[Aguardando...]</div>
                            <div class="text-sm text-green-600 font-bold mt-2">‚úÖ Resumindo: SOMENTE ESTA INFORMA√á√ÉO</div>

                <!-- Dados do Pr√≥ximo Sorteio -->
                <div class="mb-4 p-3 bg-blue-50 border-2 border-blue-300 rounded-lg">
                    <div class="text-sm font-bold text-blue-800 mb-2 text-center">üìä Dados do Pr√≥ximo Sorteio</div>
                    <div class="bg-white p-3 rounded-lg border border-blue-300">
                        <div class="grid grid-cols-2 gap-3 text-xs">
                            <div>
                                <div class="font-bold text-blue-800">üéØ Concurso:</div>
                                <div id="proximoConcursoNum" class="text-blue-700">Loading...</div>
                            </div>
                            <div>
                                <div class="font-bold text-blue-800">üìÖ Data:</div>
                                <div id="dataProximoSorteio" class="text-blue-700">Loading...</div>
                            </div>
                            <div>
                                <div class="font-bold text-blue-800">üí∞ Pr√™mio:</div>
                                <div id="premioEstimadoMin" class="text-blue-700">Loading...</div>
                            </div>
                            <div>
                                <div class="font-bold text-blue-800">üìà Status:</div>
                                <div id="statusAPIMin" class="text-blue-700">Carregando...</div>
                            </div>

                        </div>
                    </div>
                </div>


                <!-- N√∫meros Ausentes - CLEAN -->
                <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4 md:mb-0">üîç N√∫meros que N√ÉO Sa√≠ram</h3>
                        <div class="flex items-center gap-2">
                            <label class="text-sm font-medium text-gray-700">Analisar √∫ltimos:</label>
                            <select id="analisarJogos" class="px-3 py-2 border border-gray-300 rounded text-base font-medium">
                                <option value="3">3 jogos</option>
                                <option value="5">5 jogos</option>
                                <option value="6" selected>6 jogos</option>
                                <option value="7">7 jogos</option>
                                <option value="10">10 jogos</option>
                                <option value="15">15 jogos</option>
                                <option value="20">20 jogos</option>
                                <option value="25">25 jogos</option>
                                <option value="30">30 jogos</option>
                                <option value="31">31 jogos</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-red-50 p-4 rounded-lg border-2 border-red-200 text-center">
                            <div class="text-lg font-bold text-red-800 mb-3">üî¥ MENORES (01-10)</div>
                            <div id="numerosBaixos" class="text-lg font-mono font-bold text-red-700 bg-white p-3 rounded min-h-[60px] flex items-center justify-center">Carregando...</div>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg border-2 border-yellow-200 text-center">
                            <div class="text-lg font-bold text-yellow-800 mb-3">üü° M√âDIOS (11-20)</div>
                            <div id="numerosMedios" class="text-lg font-mono font-bold text-yellow-700 bg-white p-3 rounded min-h-[60px] flex items-center justify-center">Carregando...</div>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg border-2 border-purple-200 text-center">
                            <div class="text-lg font-bold text-purple-800 mb-3">üü£ MAIORES (21-31)</div>
                            <div id="numerosAltos" class="text-lg font-mono font-bold text-purple-700 bg-white p-3 rounded min-h-[60px] flex items-center justify-center">Carregando...</div>
                        </div>
                    </div>

                    <div class="mt-6 bg-blue-50 p-4 rounded-lg border border-blue-200 text-center">
                        <div class="text-lg font-bold text-blue-800 mb-2">üìä RESUMO ESTAT√çSTICO</div>
                        <div id="resumoAnalise" class="text-base font-medium text-blue-700">Aguardando an√°lise...</div>
                    </div>
                </div>
            </div>

            <!-- SE√á√ÉO: MEUS JOGOS -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-diasorte">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-diasorte">üìã MEUS JOGOS</h2>
                    <label class="flex items-center text-sm">
                        <input type="checkbox" id="mostrarOrdemCrescente" class="mr-2" checked>
                        üî¢ Ordem Crescente
                    </label>

                <!-- Sele√ß√£o das Regras -->
                <div class="mb-4">
                    <div class="text-sm font-bold text-purple-800 mb-3">üìã Regras Minimalistas:</div>
                    
                    <div class="grid grid-cols-1 gap-2">
                        <!-- R1 - Datas Diretas -->
                        <div class="regra-item" id="regra1">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r1-direto" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R1 - Datas Diretas</div>
                                    <div class="text-xs text-green-700">Dia, m√™s, ano atual como n√∫meros v√°lidos</div>
                                </div>
                            </label>
                        </div>

                        <!-- R2 - Soma de Datas -->
                        <div class="regra-item" id="regra2">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r2-soma" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R2 - Soma de Datas</div>
                                    <div class="text-xs text-green-700">Somar dia+m√™s, componentes limitados a 31</div>
                                </div>
                            </label>
                        </div>

                        <!-- R3 - Anivers√°rios -->
                        <div class="regra-item" id="regra3">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r3-aniversarios" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R3 - Anivers√°rios</div>
                                    <div class="text-xs text-green-700">Datas especiais e comemora√ß√µes importantes</div>
                                </div>
                            </label>
                        </div>

                        <!-- R4 - Diferen√ßa de Datas -->
                        <div class="regra-item" id="regra4">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r4-diferenca" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R4 - Diferen√ßa</div>
                                    <div class="text-xs text-green-700">Diferen√ßas entre datas importantes</div>
                                </div>
                            </label>
                        </div>

                        <!-- R5 - Calend√°rio -->
                        <div class="regra-item" id="regra5">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r5-calendario" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R5 - Calend√°rio</div>
                                    <div class="text-xs text-green-700">Dias da semana, quinzenas, finais de m√™s</div>
                                </div>
                            </label>
                        </div>

                        <!-- R6 - Sequenciais -->
                        <div class="regra-item" id="regra6">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r6-sequenciais" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R6 - Sequenciais</div>
                                    <div class="text-xs text-green-700">N√∫meros consecutivos baseados em datas</div>
                                </div>
                            </label>
                        </div>

                        <!-- R7 - Pr√™mio Relacionado -->
                        <div class="regra-item" id="regra7">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r7-premio" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R7 - Pr√™mio</div>
                                    <div class="text-xs text-green-700">Valores relacionados ao pr√™mio estimado</div>
                                </div>
                            </label>
                        </div>

                        <!--  NOVAS REGRAS MINIMALISTAS AVAN√áADAS  -->
                        
                        <!-- R8 - Feriados e Datas Especiais -->
                        <div class="regra-item" id="regra8">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r8-feriados" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R8 - Feriados Especiais</div>
                                    <div class="text-xs text-green-700">Natal (25), Ano Novo (01), feriados nacionais</div>
                                </div>
                            </label>
                        </div>

                        <!-- R9 - Estat√≠sticas do √öltimo Resultado -->
                        <div class="regra-item" id="regra9">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r9-estatisticas" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R9 - Estat√≠sticas Reais</div>
                                    <div class="text-xs text-green-700">Baseado nos dados da API oficial</div>
                                </div>
                            </label>
                        </div>

                        <!-- R10 - Padr√µes de Frequ√™ncia -->
                        <div class="regra-item" id="regra10">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r10-frequencia" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R10 - Frequ√™ncia</div>
                                    <div class="text-xs text-green-700">N√∫meros com maior/menor incid√™ncia hist√≥rica</div>
                                </div>
                            </label>
                        </div>

                        <!-- R11 - Distribui√ß√£o Geogr√°fica -->
                        <div class="regra-item" id="regra11">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r11-geografica" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R11 - Geogr√°fica</div>
                                    <div class="text-xs text-green-700">CEPs, c√≥digos de regi√µes, datas regionais</div>
                                </div>
                            </label>
                        </div>

                        <!-- R12 - M√∫ltiplos de Datas -->
                        <div class="regra-item" id="regra12">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r12-multiplos" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R12 - M√∫ltiplos</div>
                                    <div class="text-xs text-green-700">Dobros, triplos de datas importantes</div>
                                </div>
                            </label>
                        </div>

                        <!-- R13 - Invers√£o de N√∫meros -->
                        <div class="regra-item" id="regra13">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r13-inversao" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R13 - Invers√£o</div>
                                    <div class="text-xs text-green-700">Espelhar datas (13‚Üí31, 24‚Üí42)</div>
                                </div>
                            </label>
                        </div>

                        <!-- R14 - Fibonacci de Datas -->
                        <div class="regra-item" id="regra14">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r14-fibonacci" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R14 - Fibonacci</div>
                                    <div class="text-xs text-green-700">Sequ√™ncia baseada em componentes de data</div>
                                </div>
                            </label>
                        </div>

                        <!-- R15 - Clima e Esta√ß√µes -->
                        <div class="regra-item" id="regra15">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r15-estacoes" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R15 - Esta√ß√µes</div>
                                    <div class="text-xs text-green-700">Datas de in√≠cio das esta√ß√µes do ano</div>
                                </div>
                            </label>
                        </div>

                        <!-- R16 - Proximidade de Datas -->
                        <div class="regra-item" id="regra16">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r16-proximidade" class="regra-checkbox mr-2 scale-110">
                                <div>
                                    <div class="text-sm font-bold text-green-800">R16 - Proximidade</div>
                                    <div class="text-xs text-green-700">N√∫meros pr√≥ximos a datas importantes</div>
                                </div>
                            </label>
                        </div>

                        <!-- R17 - Filtros Inteligentes -->
                        <div class="regra-item" id="regra17">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r17-filtros" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R17 - Filtros Inteligentes</div>
                                    <div class="text-xs text-green-700">Evitar padr√µes improv√°veis e repeti√ß√µes</div>
                                </div>
                            </label>
                        </div>

                        <!-- R18 - Balanceamento Autom√°tico -->
                        <div class="regra-item" id="regra18">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r18-balanceamento" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R18 - Balanceamento</div>
                                    <div class="text-xs text-green-700">Distribuir entre in√≠cio, meio e final</div>
                                </div>
                            </label>
                        </div>

                        <!-- R19 - Otimiza√ß√£o Final -->
                        <div class="regra-item" id="regra19">
                            <label class="flex items-start cursor-pointer">
                                <input type="checkbox" id="r19-otimizacao" class="regra-checkbox mr-2 scale-110" checked>
                                <div>
                                    <div class="text-sm font-bold text-green-800">R19 - Otimiza√ß√£o Final</div>
                                    <div class="text-xs text-green-700">Formata√ß√£o e valida√ß√£o final dos jogos</div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="mt-3 p-2 bg-purple-50 border border-purple-200 rounded-lg">
                        <div class="text-xs text-purple-800">
                            <strong>üìã Regras selecionadas:</strong> <span id="contadorRegras">8</span> de 19 dispon√≠veis<br>
                            <strong>üí° Recomenda√ß√£o:</strong> Use pelo menos 5 regras para maior diversidade<br>
                            <strong>üéØ Especial:</strong> Regras otimizadas para datas e estat√≠sticas reais
                        </div>
                    </div>
                </div>
                
                <!-- Configura√ß√µes -->
                <div class="mb-4">
                    <label class="block text-purple-600 font-medium mb-2 text-sm">‚öôÔ∏è Configura√ß√µes:</label>
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="block text-xs font-medium">Quantidade:</label>
                            <select id="qtdJogosMin" class="w-full px-2 py-2 border border-gray-300 rounded-lg text-sm">
                                <option value="3">3 jogos</option>
                                <option value="5" selected>5 jogos</option>
                                <option value="7">7 jogos</option>
                                <option value="10">10 jogos</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-xs font-medium">Dezenas:</label>
                            <select id="dezenasPorJogoMin" class="w-full px-2 py-2 border border-gray-300 rounded-lg text-sm">
                                <option value="7" selected>7 dezenas</option>
                                <option value="8">8 dezenas</option>
                                <option value="9">9 dezenas</option>
                                <option value="10">10 dezenas</option>
                                <option value="11">11 dezenas</option>
                                <option value="12">12 dezenas</option>
                                <option value="13">13 dezenas</option>
                                <option value="14">14 dezenas</option>
                                <option value="15">15 dezenas</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Estrat√©gia de Distribui√ß√£o -->
                <div class="mb-4">
                    <label class="block text-purple-600 font-medium mb-2 text-sm">üéØ Estrat√©gia de Distribui√ß√£o:</label>
                    <select id="estrategiaMin" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm">
                        <option value="equilibrada" selected>üéØ Equilibrada (2-3 em cada faixa)</option>
                        <option value="aleatorio">üé≤ Totalmente Aleat√≥rio</option>
                        <option value="inicio">üìä Foco no In√≠cio (1-10)</option>
                        <option value="meio">üìä Foco no Meio (11-20)</option>
                        <option value="final">üìä Foco no Final (21-31)</option>
                        <option value="datas">üìÖ Baseado em Datas Reais</option>
                    </select>
                </div>
                
                <button id="gerarJogosMin" class="w-full bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg font-bold text-sm">
                    üöÄ Gerar Jogos Minimalistas
                </button>
                
                <div id="resultadosMin" class="mt-4 hidden">
                    <h4 class="font-bold text-purple-600 mb-2 text-sm">üéØ Jogos Gerados:</h4>
                    <div id="listaJogosMin" class="space-y-2 h-96 overflow-y-auto border-2 border-purple-200 rounded-lg p-3 bg-gray-50 shadow-inner">
                        <!-- Jogos minimalistas aparecer√£o aqui -->
                    </div>
                    <div class="mt-3 text-center">
                        <button id="adicionarTodosMin" class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm">
                            ‚ûï Adicionar Todos
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Segunda linha: MEUS JOGOS ocupando toda a largura -->
        <div class="space-y-6">
            <!-- Resumo e Controles -->
            <div class="bg-white rounded-lg shadow-lg p-6 border-2 border-diasorte">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-diasorte">üìã MEUS JOGOS</h3>
                    <div class="flex items-center gap-2">
                        <label class="flex items-center text-sm">
                            <input type="checkbox" id="mostrarOrdemCrescente" class="mr-2" checked>
                            üî¢ Ordem Crescente
                        </label>
                    </div>

                </div>

                <!-- Custo Total -->
                <div class="mb-4">

                    <div class="custo-total text-center">
                        üí∞ Total: <span id="custoTotal">R$ 0,00</span>
                    </div>
                    <div class="text-center text-sm text-gray-600 mt-2">
                        <span id="totalJogos">0</span> jogo(s) adicionado(s)

                    <div class="bg-gradient-to-r from-diasorte to-diasorte-dark text-white p-4 rounded-lg text-center">
                        <div class="text-2xl font-bold">üí∞ Total: <span id="custoTotal">R$ 0,00</span></div>
                        <div class="text-sm mt-1"><span id="totalJogos">0</span> jogo(s) adicionado(s)</div>

                    </div>
                </div>

                <!-- Bot√µes de Download -->

                <div class="grid grid-cols-3 gap-2 mb-4">
                    <button id="downloadHTML" class="bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-lg text-sm">
                        üåê HTML
                    </button>
                    <button id="downloadTXT" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm">

                <div class="grid grid-cols-4 gap-2 mb-4">
                    <button id="downloadHTML" class="bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-lg text-sm">
                        üåê HTML
                    </button>
                    <button id="downloadTXT" class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm" title="Gera arquivo TXT simples contendo apenas os n√∫meros dos jogos, um jogo por linha">

                        üìÑ TXT
                    </button>
                    <button id="downloadXLSX" class="bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm">
                        üìä XLSX


                    </button>
                    <button id="limparTodos" class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm">
                        üóëÔ∏è Limpar

                    </button>
                </div>

                <!-- Bot√£o Limpar -->
                <button id="limparTodos" class="w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg mb-4">
                    üóëÔ∏è Limpar
                </button>

                <!-- Lista dos Jogos -->

                <div class="bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto">

                <div class="bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto border">

                    <h4 class="font-bold text-gray-800 mb-4">Lista de Jogos:</h4>
                    <div id="listaJogos">
                        <p class="text-gray-500 text-center py-8">Nenhum jogo adicionado ainda</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>

        // üéØ CONFIGURA√á√ïES E DADOS
        const MESES = [
            'Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho',
            'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'
        ];

        const DADOS_EXEMPLO = {
            ultimoResultado: {
                numero: 543,
                dataApuracao: "20/01/2025",
                dataProximoConcurso: "22/01/2025",
                listaDezenas: ["03", "12", "18", "22", "24", "27", "31"],
                mesSorte: 1,
                acumulado: false,
                valorEstimadoProximoConcurso: 300000.00
            }
        };

        // Vari√°veis globais
        let ultimoResultado = null;
        let jogosAdicionados = [];
        let numerosSelecionados = [];
        let mesSelecionado = null;
        let numerosSorteados = new Set();
        let mesSorteado = null;
        let valorAposta = 2.50;

        // Inicializa√ß√£o

        // ===== VARI√ÅVEIS GLOBAIS =====
        let ultimoResultado = null;
        let numerosDropArea = [];
        let mesDropArea = null;
        let meusJogos = [];
        let numerosSorteados = new Set();
        let mesAnterior = null;
        let permitirNumerosSorteados = false;
        
        const sistemaValores = {
            valorSimples: 2.50,
            multiplicadores: {
                7: 1, 8: 8, 9: 36, 10: 120, 11: 330, 12: 792, 13: 1716, 14: 3432, 15: 6435
            },
            obterValor: function(dezenas) {
                return this.valorSimples * (this.multiplicadores[dezenas] || 1);
            },
            atualizarValorSimples: function(novoValor) {
                this.valorSimples = parseFloat(novoValor);
                this.atualizarInterfaceValores();
            },
            atualizarInterfaceValores: function() {
                // Atualizar dropdown de quantidade de dezenas
                const select = document.getElementById('quantidadeDezenas');
                if (select) {
                    let options = '';
                    for (let i = 7; i <= 15; i++) {
                        const selected = i === 7 ? ' selected' : '';
                        options += `<option value="${i}"${selected}>${i} dezenas - ${formatarMoeda(this.obterValor(i))}</option>`;
                    }
                    select.innerHTML = options;
                }
                
                // Atualizar valores dos multiplicadores na se√ß√£o de configura√ß√£o
                document.getElementById('valor8dezenas').textContent = `8x = ${formatarMoeda(this.obterValor(8))}`;
                document.getElementById('valor9dezenas').textContent = `36x = ${formatarMoeda(this.obterValor(9))}`;
                document.getElementById('valor15dezenas').textContent = `6435x = ${formatarMoeda(this.obterValor(15))}`;
                
                // Atualizar timestamp
                document.getElementById('ultimaAtualizacao').textContent = new Date().toLocaleString('pt-BR');
                
                // RECALCULAR CUSTOS DOS JOGOS EXISTENTES
                meusJogos.forEach(jogo => {
                    jogo.custo = this.obterValor(jogo.numeros.length);
                });
                
                // Atualizar visualiza√ß√£o dos jogos
                atualizarVisualizacaoJogos();
                
                // Recalcular custo total dos jogos
                atualizarCustoTotal();
            }
        };

        // ===== DADOS DE EXEMPLO (caso API falhe) =====
        const DADOS_EXEMPLO = {
            numero: 1000,
            dataApuracao: "20/01/2025",
            dataProximoConcurso: "23/01/2025",
            listaDezenas: ["02", "08", "13", "19", "25", "28", "31"],
            mesSorte: "03",
            acumulado: true,
            valorEstimadoProximoConcurso: 800000.00,
            listaRateioPremio: [
                { descricaoFaixa: "7 acertos + m√™s", numeroDeGanhadores: 0, valorPremio: 0 },
                { descricaoFaixa: "6 acertos", numeroDeGanhadores: 18, valorPremio: 2850.50 },
                { descricaoFaixa: "5 acertos", numeroDeGanhadores: 847, valorPremio: 20.00 }
            ]
        };

        // ===== INICIALIZA√á√ÉO =====

        document.addEventListener('DOMContentLoaded', async () => {
            try {
                await carregarUltimoResultado();
            } catch (error) {

                console.log('Usando dados de exemplo');

                console.log('Usando dados de exemplo para Dia de Sorte');

                usarDadosExemplo();
            }
            
            inicializarInterface();
            configurarEventListeners();
            inicializarConfiguracaoPrincipal();
        });


        async function carregarUltimoResultado() {
            try {
                const response = await fetch('https://servicebus2.caixa.gov.br/portaldeloterias/api/diadesorte');
                if (response.ok) {
                    const data = await response.json();
                    if (data && data.numero) {

        function inicializarConfiguracaoPrincipal() {
            // Inicializar timestamp
            document.getElementById('ultimaAtualizacao').textContent = new Date().toLocaleString('pt-BR');
            
            // Configurar eventos da se√ß√£o de configura√ß√£o
            document.getElementById('atualizarValor').addEventListener('click', () => {
                const novoValor = parseFloat(document.getElementById('valorApostaSimples').value);
                if (novoValor > 0) {
                    sistemaValores.atualizarValorSimples(novoValor);
                    showCustomAlert('‚úÖ Valores Atualizados', `Novo valor base: ${formatarMoeda(novoValor)}\n\nTodos os valores foram recalculados automaticamente!`);
                } else {
                    showCustomAlert('‚ö†Ô∏è Valor Inv√°lido', 'Insira um valor maior que zero!');
                }
            });
            
            // Inicializar valores na interface
            sistemaValores.atualizarInterfaceValores();
        }

        async function carregarUltimoResultado() {
            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 3000);
                
                const response = await fetch('https://servicebus2.caixa.gov.br/portaldeloterias/api/diadesorte', {
                    signal: controller.signal,
                    headers: { 'Accept': 'application/json' }
                });
                
                clearTimeout(timeoutId);
                
                if (response.ok) {
                    const data = await response.json();
                    if (data && data.numero && data.numero > 0) {

                        ultimoResultado = data;
                        exibirUltimoResultado(data);
                        return;
                    }
                }
                throw new Error('API indispon√≠vel');
            } catch (error) {
                throw error;
            }
        }

        function usarDadosExemplo() {

            ultimoResultado = DADOS_EXEMPLO.ultimoResultado;
            exibirUltimoResultado(ultimoResultado);
            finalizarCarregamento();
        }

        function finalizarCarregamento() {
            document.getElementById('loading').classList.add('hidden');
            document.getElementById('ultimoResultado').classList.remove('hidden');
            document.getElementById('interfacePrincipal').classList.remove('hidden');
            
            // Carregar an√°lise de padr√µes
            setTimeout(() => {
                carregarAnalisesPadroes();
            }, 1000);
        }

        function exibirUltimoResultado(data) {
            document.getElementById('tituloResultado').textContent = `Concurso ${data.numero}`;
            document.getElementById('dataResultado').textContent = `üìÖ ${data.dataApuracao}`;

            ultimoResultado = DADOS_EXEMPLO;
            exibirUltimoResultado(ultimoResultado);
        }

        function exibirUltimoResultado(data) {
            const numeros = data.listaDezenas || [];
            const mes = data.mesSorte || "03";
            
            document.getElementById('tituloResultado').textContent = `Concurso ${data.numero}`;
            document.getElementById('dataResultado').textContent = `üìÖ ${data.dataApuracao}`;

            const numerosDiv = document.getElementById('numerosResultado');
            numerosDiv.innerHTML = '';
            numeros.forEach(num => {
                const numeroEl = document.createElement('div');
                numeroEl.className = 'numero-resultado';
                numeroEl.textContent = num;
                numerosDiv.appendChild(numeroEl);
            });

            const mesDiv = document.getElementById('mesResultado');
            mesDiv.innerHTML = `<div class="mes-resultado">${getNomeMes(parseInt(mes))}</div>`;

            document.getElementById('statusResultado').textContent = data.acumulado ? 'ACUMULOU!' : 'TEVE GANHADOR!';

            if (data.listaRateioPremio && data.listaRateioPremio.length >= 2) {
                document.getElementById('premiacao6').innerHTML = `
                    <span class="text-diasorte mr-2">üèÜ</span>
                    <span>6 acertos: ${data.listaRateioPremio[1].numeroDeGanhadores} - ${formatarMoeda(data.listaRateioPremio[1].valorPremio)}</span>
                `;
                document.getElementById('premiacao5').innerHTML = `
                    <span class="text-diasorte mr-2">üèÜ</span>
                    <span>5 acertos: ${data.listaRateioPremio[2] ? data.listaRateioPremio[2].numeroDeGanhadores : 0} - ${formatarMoeda(data.listaRateioPremio[2] ? data.listaRateioPremio[2].valorPremio : 0)}</span>
                `;
            }


            document.getElementById('proximoConcurso').textContent = `Concurso ${data.numero + 1}`;
            document.getElementById('dataProximoConcurso').textContent = data.dataProximoConcurso || 'A definir';
            document.getElementById('premioEstimado').textContent = formatarMoeda(data.valorEstimadoProximoConcurso || 800000);


            // Exibir n√∫meros sorteados
            const numerosDiv = document.getElementById('numerosResultado');
            numerosDiv.innerHTML = '';
            data.listaDezenas.forEach(num => {
                const numeroEl = document.createElement('div');
                numeroEl.className = 'numero-jogo';
                numeroEl.textContent = num;
                numerosDiv.appendChild(numeroEl);
            });

            // Exibir m√™s da sorte
            const mesDiv = document.getElementById('mesResultado');
            mesDiv.innerHTML = `<div class="mes-jogo">${MESES[data.mesSorte - 1]}</div>`;

            // Atualizar dados da se√ß√£o minimalista
            document.getElementById('concursoNum').textContent = data.numero + 1;
            document.getElementById('dataProximo').textContent = data.dataProximoConcurso || 'A definir';
            document.getElementById('premioProximo').textContent = formatarMoeda(data.valorEstimadoProximoConcurso || 300000);
            document.getElementById('statusConcurso').textContent = data.acumulado ? 'Acumulado' : 'Teve ganhador';

            analisarParesImparesTempoReal(data.listaDezenas, data.mesSorte);
            identificarNumerosSorteados(data.listaDezenas, data.mesSorte);

            // Dados se√ß√£o minimalista
            document.getElementById('proximoConcursoNum').textContent = data.numero + 1;
            document.getElementById('dataProximoSorteio').textContent = data.dataProximoConcurso || 'A definir';
            document.getElementById('premioEstimadoMin').textContent = formatarMoeda(data.valorEstimadoProximoConcurso || 800000);
            document.getElementById('statusAPIMin').textContent = 'Dados carregados';

            analisarDistribuicaoTempoReal(numeros);
            identificarNumerosSorteados(numeros);
            identificarMesAnterior(mes);
            exibirNumerosSorteados(numeros);
            exibirMesAnterior(mes);
            
            document.getElementById('ultimoResultado').classList.remove('hidden');

        }

        function analisarDistribuicaoTempoReal(numeros) {
            let inicioUltimoSorteio = 0;
            let meioUltimoSorteio = 0;
            let finalUltimoSorteio = 0;
            
            numeros.forEach(num => {
                const numero = parseInt(num);
                if (numero >= 1 && numero <= 10) {
                    inicioUltimoSorteio++;
                } else if (numero >= 11 && numero <= 20) {
                    meioUltimoSorteio++;
                } else if (numero >= 21 && numero <= 31) {
                    finalUltimoSorteio++;
                }
            });
            

            document.getElementById('paresUltimoSorteio').textContent = paresUltimoSorteio;
            document.getElementById('imparesUltimoSorteio').textContent = imparesUltimoSorteio;
            
            atualizarContadorParesImpares();

            document.getElementById('inicioUltimoSorteio').textContent = inicioUltimoSorteio;
            document.getElementById('meioUltimoSorteio').textContent = meioUltimoSorteio;
            document.getElementById('finalUltimoSorteio').textContent = finalUltimoSorteio;
            
            atualizarContadorDistribuicao();

        }

        function identificarNumerosSorteados(numeros) {
            numerosSorteados.clear();
            numeros.forEach(num => {
                numerosSorteados.add(parseInt(num));
            });
        }

        function identificarMesAnterior(mes) {
            mesAnterior = parseInt(mes);
        }


        function atualizarEstadoNumerosSorteados() {
            const permitir = document.getElementById('permitirNumerosSorteados').checked;
            
            numerosSorteados.forEach(numero => {
                const btn = document.querySelector(`[data-numero="${numero}"]`);
                if (btn) {
                    btn.classList.add('sorteado');
                    if (!permitir) {
                        btn.classList.add('disabled');
                        btn.onclick = () => {
                            showCustomAlert('üéØ N√∫mero Sorteado', `O n√∫mero ${numero.toString().padStart(2, '0')} saiu no √∫ltimo sorteio.`);
                        };
                    } else {
                        btn.classList.remove('disabled');
                        btn.onclick = () => toggleNumero(numero);
                    }
                }
            });

            if (mesSorteado) {
                const btnMes = document.querySelector(`[data-mes="${mesSorteado}"]`);
                if (btnMes) {
                    btnMes.classList.add('sorteado');
                    if (!permitir) {
                        btnMes.classList.add('disabled');
                        btnMes.onclick = () => {
                            showCustomAlert('üéØ M√™s Sorteado', `O m√™s ${MESES[mesSorteado - 1]} saiu no √∫ltimo sorteio.`);
                        };
                    } else {
                        btnMes.classList.remove('disabled');
                        btnMes.onclick = () => toggleMes(mesSorteado);
                    }
                }
            }
        }

        function inicializarInterface() {
            criarGridNumeros();
            criarGridMeses();
            atualizarContadorParesImpares();
            atualizarVisualizacaoDropArea();
            atualizarValorAposta();

        function exibirNumerosSorteados(numeros) {
            const displayDiv = document.getElementById('numerosSorteadosDisplay');
            displayDiv.innerHTML = numeros.map(num => 
                `<span class="inline-block bg-red-500 text-white px-2 py-1 rounded text-xs font-bold">${num}</span>`
            ).join('');
        }

        function exibirMesAnterior(mes) {
            const displayDiv = document.getElementById('mesAnteriorDisplay');
            displayDiv.innerHTML = `<span class="inline-block bg-green-500 text-white px-3 py-1 rounded text-sm font-bold">${getNomeMes(parseInt(mes))}</span>`;
        }

        function getNomeMes(numeroMes) {
            const meses = ['', 'Janeiro', 'Fevereiro', 'Mar√ßo', 'Abril', 'Maio', 'Junho', 
                          'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];
            return meses[numeroMes] || 'Inv√°lido';
        }

        function inicializarInterface() {
            numerosDropArea = [];
            mesDropArea = null;
            criarGridNumeros();
            criarGridMeses();
            configurarDragAndDrop();
            atualizarContadorDistribuicao();
            atualizarVisualizacaoDropArea();
            configurarRegrasMinimalistas();

        }

        function criarGridNumeros() {
            const grid = document.getElementById('gridNumeros');
            grid.innerHTML = '';
            
            for (let i = 1; i <= 31; i++) {
                const btn = document.createElement('button');

                btn.className = 'numero-btn';
                btn.dataset.numero = i;

                btn.className = 'numero-dias';

                
                // Classificar por faixa
                if (i >= 1 && i <= 10) {
                    btn.classList.add('inicio');
                } else if (i >= 11 && i <= 20) {
                    btn.classList.add('meio');
                } else if (i >= 21 && i <= 31) {
                    btn.classList.add('final');
                }
                
                if (numerosSorteados.has(i)) {
                    btn.classList.add('sorteado');
                    if (!permitirNumerosSorteados) {
                        btn.classList.add('disabled');
                        btn.disabled = true;
                    }
                }
                
                btn.textContent = i.toString().padStart(2, '0');
                btn.onclick = () => toggleNumero(i);


                btn.draggable = true;
                btn.dataset.numero = i;
                
                btn.addEventListener('dragstart', (e) => {
                    if (btn.disabled) {
                        e.preventDefault();
                        return;
                    }
                    e.dataTransfer.setData('text/plain', i);
                    btn.classList.add('dragging');
                });
                
                btn.addEventListener('dragend', () => {
                    btn.classList.remove('dragging');
                });

                
                grid.appendChild(btn);
            }
        }

        function criarGridMeses() {
            const grid = document.getElementById('gridMeses');
            grid.innerHTML = '';
            
            const nomesMeses = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 
                               'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'];
            
            for (let i = 1; i <= 12; i++) {
                const btn = document.createElement('button');

                btn.className = 'mes-btn';
                btn.dataset.mes = index + 1;
                btn.textContent = mes;
                btn.onclick = () => toggleMes(index + 1);

                btn.className = 'mes-sorte';
                btn.textContent = nomesMeses[i-1];
                btn.onclick = () => toggleMes(i);
                btn.draggable = true;
                btn.dataset.mes = i;
                
                btn.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', `mes-${i}`);
                    btn.classList.add('dragging');
                });
                
                btn.addEventListener('dragend', () => {
                    btn.classList.remove('dragging');
                });

                
                grid.appendChild(btn);
            }
        }

        function configurarRegrasMinimalistas() {
            const checkboxes = document.querySelectorAll('.regra-checkbox');
            
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', atualizarContadorRegras);
            });
            
            atualizarContadorRegras();
        }

        function atualizarContadorRegras() {
            const checkboxes = document.querySelectorAll('.regra-checkbox:checked');
            document.getElementById('contadorRegras').textContent = checkboxes.length;
            
            document.querySelectorAll('.regra-item').forEach((item, index) => {
                const checkbox = item.querySelector('.regra-checkbox');
                if (checkbox && checkbox.checked) {
                    item.classList.add('ativa');
                } else {
                    item.classList.remove('ativa');
                }
            });
        }


        function toggleNumero(numero) {
            const btn = document.querySelector(`[data-numero="${numero}"]`);

        function configurarDragAndDrop() {
            const dropZone = document.getElementById('dropZone');

            
            if (numerosSelecionados.includes(numero)) {
                numerosSelecionados = numerosSelecionados.filter(n => n !== numero);
                btn.classList.remove('selecionado');
            } else if (numerosSelecionados.length < 7) {
                numerosSelecionados.push(numero);
                btn.classList.add('selecionado');
            }
            

            atualizarVisualizacaoDropArea();
            atualizarContadorParesImpares();
            validarBotaoAdicionar();
        }

        function toggleMes(mes) {
            const btn = document.querySelector(`[data-mes="${mes}"]`);
            
            if (mesSelecionado === mes) {
                mesSelecionado = null;
                btn.classList.remove('selecionado');
            } else {
                // Limpar sele√ß√£o anterior
                if (mesSelecionado) {
                    const btnAnterior = document.querySelector(`[data-mes="${mesSelecionado}"]`);
                    if (btnAnterior) btnAnterior.classList.remove('selecionado');
                }
                
                mesSelecionado = mes;
                btn.classList.add('selecionado');
            }
            
            atualizarVisualizacaoDropArea();
            validarBotaoAdicionar();
        }

        function atualizarVisualizacaoDropArea() {
            const dropZone = document.getElementById('dropZone');
            const dropMessage = document.getElementById('dropMessage');
            const itemsDropped = document.getElementById('itemsDropped');
            const numerosNaArea = document.getElementById('numerosNaArea');
            const mesesNaArea = document.getElementById('mesesNaArea');
            
            numerosNaArea.textContent = numerosSelecionados.length;
            mesesNaArea.textContent = mesSelecionado ? '1' : '0';
            
            if (numerosSelecionados.length === 0 && !mesSelecionado) {
                dropZone.classList.remove('has-numbers');
                dropMessage.classList.remove('hidden');
                itemsDropped.classList.add('hidden');
            } else {
                dropZone.classList.add('has-numbers');
                dropMessage.classList.add('hidden');
                itemsDropped.classList.remove('hidden');
                
                let html = '';
                
                // N√∫meros
                numerosSelecionados.sort((a, b) => a - b).forEach(numero => {
                    html += `
                        <div class="numero-drop">
                            ${numero.toString().padStart(2, '0')}
                            <div class="remove-btn" onclick="removerNumeroDropArea(${numero})">√ó</div>
                        </div>
                    `;
                });
                
                // M√™s
                if (mesSelecionado) {
                    html += `
                        <div class="mes-drop">
                            ${MESES[mesSelecionado - 1].substring(0, 3)}
                            <div class="remove-btn" onclick="removerMesDropArea()">√ó</div>
                        </div>
                    `;
                }
                
                itemsDropped.innerHTML = html;
            }
        }

        function removerNumeroDropArea(numero) {
            numerosSelecionados = numerosSelecionados.filter(n => n !== numero);
            const btn = document.querySelector(`[data-numero="${numero}"]`);
            if (btn) btn.classList.remove('selecionado');
            
            atualizarVisualizacaoDropArea();
            atualizarContadorParesImpares();
            validarBotaoAdicionar();
        }

        function removerMesDropArea() {
            if (mesSelecionado) {
                const btn = document.querySelector(`[data-mes="${mesSelecionado}"]`);
                if (btn) btn.classList.remove('selecionado');
                mesSelecionado = null;
            }
            
            atualizarVisualizacaoDropArea();
            validarBotaoAdicionar();
        }

        function atualizarContadorParesImpares() {
            const paresAtuais = numerosSelecionados.filter(num => num % 2 === 0).length;
            const imparesAtuais = numerosSelecionados.filter(num => num % 2 !== 0).length;
            
            document.getElementById('paresAtuais').textContent = paresAtuais;
            document.getElementById('imparesAtuais').textContent = imparesAtuais;
            
            const totalSelecionados = numerosSelecionados.length;
            const statusEl = document.getElementById('statusEstrategia');
            const metaPares = 3;
            const metaImpares = 4;
            
            if (totalSelecionados === 0) {
                statusEl.textContent = 'üéØ Selecione n√∫meros para ver sua estrat√©gia';
                statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-gray-100 text-gray-700';
            } else if (totalSelecionados < 7) {
                const paresRestantes = Math.max(0, metaPares - paresAtuais);
                const imparesRestantes = Math.max(0, metaImpares - imparesAtuais);
                
                if (paresRestantes > 0 && imparesRestantes > 0) {
                    statusEl.textContent = `üìç Faltam: ${paresRestantes} pares, ${imparesRestantes} √≠mpares + m√™s`;
                    statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-blue-100 text-blue-800';
                } else if (paresRestantes > 0) {
                    statusEl.textContent = `üìç Faltam: ${paresRestantes} pares + m√™s`;
                    statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-green-100 text-green-800';
                } else if (imparesRestantes > 0) {
                    statusEl.textContent = `üìç Faltam: ${imparesRestantes} √≠mpares + m√™s`;
                    statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-purple-100 text-purple-800';
                } else {
                    statusEl.textContent = '‚úÖ Estrat√©gia hist√≥rica completa! Falta apenas o m√™s';
                    statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-yellow-100 text-yellow-800';
                }
            } else {
                const diferencaPares = Math.abs(paresAtuais - metaPares);
                const diferencaImpares = Math.abs(imparesAtuais - metaImpares);
                
                if (diferencaPares === 0 && diferencaImpares === 0) {
                    statusEl.textContent = 'üéØ ESTRAT√âGIA PERFEITA! Distribui√ß√£o igual ao padr√£o hist√≥rico';
                    statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-green-200 text-green-800 meta-atingida';
                } else if (diferencaPares <= 1 && diferencaImpares <= 1) {
                    statusEl.textContent = '‚úÖ Estrat√©gia muito boa! Distribui√ß√£o pr√≥xima do padr√£o hist√≥rico';
                    statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-green-100 text-green-800';
                } else {
                    statusEl.textContent = '‚ö†Ô∏è Estrat√©gia diferente do padr√£o hist√≥rico mais comum';
                    statusEl.className = 'text-center p-3 rounded-lg font-bold text-lg bg-red-100 text-red-800 meta-excedida';
                }
            }
        }

        function validarBotaoAdicionar() {
            const btn = document.getElementById('adicionarJogo');
            btn.disabled = numerosSelecionados.length !== 7 || !mesSelecionado;
        }

        function limparJogo() {
            numerosSelecionados = [];
            mesSelecionado = null;
            
            document.querySelectorAll('.numero-btn').forEach(btn => {
                btn.classList.remove('selecionado');
            });
            document.querySelectorAll('.mes-btn').forEach(btn => {
                btn.classList.remove('selecionado');
            });
            
            atualizarVisualizacaoDropArea();
            atualizarContadorParesImpares();
            validarBotaoAdicionar();
        }

        function randomizarJogo() {
            limparJogo();
            
            const permiteSorteados = document.getElementById('permitirNumerosSorteados').checked;
            const numerosDisponiveis = Array.from({length: 31}, (_, i) => i + 1).filter(num => {
                return permiteSorteados || !numerosSorteados.has(num);
            });
            
            // Selecionar 7 n√∫meros aleat√≥rios
            while (numerosSelecionados.length < 7 && numerosDisponiveis.length > 0) {
                const index = Math.floor(Math.random() * numerosDisponiveis.length);
                const numero = numerosDisponiveis.splice(index, 1)[0];
                numerosSelecionados.push(numero);
                
                const btn = document.querySelector(`[data-numero="${numero}"]`);
                btn.classList.add('selecionado');
            }
            
            // Selecionar m√™s aleat√≥rio
            const mesesDisponiveis = Array.from({length: 12}, (_, i) => i + 1).filter(mes => {
                return permiteSorteados || mes !== mesSorteado;
            });
            
            if (mesesDisponiveis.length > 0) {
                const mesAleatorio = mesesDisponiveis[Math.floor(Math.random() * mesesDisponiveis.length)];
                mesSelecionado = mesAleatorio;
                
                const btnMes = document.querySelector(`[data-mes="${mesAleatorio}"]`);
                btnMes.classList.add('selecionado');
            }
            
            atualizarVisualizacaoDropArea();
            atualizarContadorParesImpares();
            validarBotaoAdicionar();
        }

        function adicionarJogo() {
            const jogo = {
                id: Date.now(),
                numeros: [...numerosSelecionados].sort((a, b) => a - b),
                mes: mesSelecionado,
                custo: valorAposta,
                pares: numerosSelecionados.filter(n => n % 2 === 0).length,
                impares: numerosSelecionados.filter(n => n % 2 !== 0).length
            };
            
            jogosAdicionados.push(jogo);
            limparJogo();
            atualizarVisualizacaoJogos();
            atualizarCustoTotal();
        }

        // Processamento Manual de N√∫meros
        function processarManual() {
            const input = document.getElementById('insertionManual');
            const texto = input.value.trim();
            
            if (!texto) {
                showCustomAlert('‚ö†Ô∏è Campo Vazio', 'Digite alguns n√∫meros primeiro!');
                return;
            }
            
            const linhas = texto.split(/\r?\n/).filter(linha => linha.trim().length > 0);
            
            if (linhas.length > 1) {
                processarMultiplosJogos(linhas);
            } else {
                processarJogoUnico(texto);
            }
        }

        function processarJogoUnico(texto) {
            const resultado = parseLinhaJogo(texto);
            
            if (!resultado.valido) {
                showCustomAlert('‚ùå Erro', resultado.erro);
                return;
            }
            
            limparJogo();
            
            // Aplicar n√∫meros
            resultado.numeros.forEach(numero => {
                numerosSelecionados.push(numero);
                const btn = document.querySelector(`[data-numero="${numero}"]`);
                if (btn) btn.classList.add('selecionado');
            });
            
            // Aplicar m√™s
            mesSelecionado = resultado.mes;
            const btnMes = document.querySelector(`[data-mes="${resultado.mes}"]`);
            if (btnMes) btnMes.classList.add('selecionado');
            
            document.getElementById('insertionManual').value = '';
            
            atualizarVisualizacaoDropArea();
            atualizarContadorParesImpares();
            validarBotaoAdicionar();
            
            showCustomAlert('‚úÖ Sucesso', `Jogo aplicado: 7 n√∫meros + ${MESES[resultado.mes - 1]}!`);
        }

        function processarMultiplosJogos(linhas) {
            const jogosValidados = [];
            const erros = [];
            
            linhas.forEach((linha, index) => {
                const resultado = parseLinhaJogo(linha);
                
                if (!resultado.valido) {
                    erros.push(`Linha ${index + 1}: ${resultado.erro}`);
                    return;
                }
                
                jogosValidados.push({
                    numeros: resultado.numeros,
                    mes: resultado.mes,
                    linha: index + 1
                });
            });
            
            if (erros.length > 0) {
                showCustomAlert('‚ùå Erros Encontrados', `Encontrados ${erros.length} erro(s):\n${erros.join('\n')}`);
                return;
            }
            
            if (jogosValidados.length === 0) {
                showCustomAlert('‚ùå Erro', 'Nenhum jogo v√°lido encontrado!');
                return;
            }
            
            showCustomConfirm(
                `üéØ M√∫ltiplos Jogos Detectados\n\nEncontrados ${jogosValidados.length} jogos v√°lidos.\nDeseja adicion√°-los todos?`,
                () => {
                    jogosValidados.forEach(jogoData => {
                        const jogo = {
                            id: Date.now() + Math.random(),
                            numeros: jogoData.numeros,
                            mes: jogoData.mes,
                            custo: valorAposta,
                            pares: jogoData.numeros.filter(n => n % 2 === 0).length,
                            impares: jogoData.numeros.filter(n => n % 2 !== 0).length,
                            origem: 'Inser√ß√£o Manual'
                        };
                        jogosAdicionados.push(jogo);
                    });
                    
                    document.getElementById('insertionManual').value = '';
                    atualizarVisualizacaoJogos();
                    atualizarCustoTotal();
                    
                    showCustomAlert('‚úÖ Sucesso', `${jogosValidados.length} jogo(s) adicionado(s) com sucesso!`);
                }
            );
        }

        function parseLinhaJogo(linha) {
            const partes = linha.trim().split(/[\+\s]+/);
            const numerosTexto = [];
            let mesTexto = null;
            
            partes.forEach(parte => {
                if (parte.match(/^\d+$/)) {
                    const num = parseInt(parte);
                    if (num >= 1 && num <= 31) {
                        numerosTexto.push(num);
                    } else if (num >= 1 && num <= 12 && !mesTexto) {
                        mesTexto = num;
                    }
                } else if (parte.match(/^[a-zA-Z√ß√á]+$/)) {
                    const mesIndex = MESES.findIndex(m => 
                        m.toLowerCase().startsWith(parte.toLowerCase())
                    );
                    if (mesIndex !== -1 && !mesTexto) {
                        mesTexto = mesIndex + 1;
                    }
                }

            dropZone.addEventListener('dragleave', (e) => {
                if (!dropZone.contains(e.relatedTarget)) {
                    dropZone.classList.remove('drag-over');
                }
            });
            
            dropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                dropZone.classList.remove('drag-over');
                
                const data = e.dataTransfer.getData('text/plain');
                if (data.startsWith('mes-')) {
                    const mes = parseInt(data.replace('mes-', ''));
                    if (!isNaN(mes)) {
                        selecionarMes(mes);
                    }
                } else {
                    const numero = parseInt(data);
                    if (!isNaN(numero)) {
                        adicionarNumeroDropArea(numero);
                    }
                }
            });
        }

        function configurarEventListeners() {
            // Checkbox n√∫meros sorteados
            document.getElementById('permitirSorteados').addEventListener('change', (e) => {
                permitirNumerosSorteados = e.target.checked;
                criarGridNumeros();
            });

            // Input manual
            document.getElementById('processarInput').addEventListener('click', processarNumerosInput);

            // Bot√µes principais
            document.getElementById('quantidadeDezenas').addEventListener('change', (e) => {
                limparSelecao();
                atualizarVisualizacaoDropArea();
            });

            document.getElementById('limparJogo').addEventListener('click', limparSelecao);
            document.getElementById('randomizarJogo').addEventListener('click', randomizarJogo);
            document.getElementById('adicionarJogo').addEventListener('click', adicionarJogo);
            document.getElementById('limparArea').addEventListener('click', limparSelecao);
            
            // Minimalista
            document.getElementById('gerarJogosMin').addEventListener('click', gerarJogosMinimalistas);
            document.getElementById('adicionarTodosMin').addEventListener('click', adicionarTodosJogosMinimalistas);
            
            // Controles
            document.getElementById('mostrarOrdemCrescente').addEventListener('change', atualizarVisualizacaoJogos);
            document.getElementById('limparTodos').addEventListener('click', limparTodosJogos);
            
            // Downloads
            document.getElementById('downloadHTML').addEventListener('click', () => downloadJogos('html'));
            document.getElementById('downloadTXT').addEventListener('click', () => downloadJogos('txt'));
            document.getElementById('downloadXLSX').addEventListener('click', () => downloadJogos('xlsx'));
        }

        // ===== FUN√á√ïES PRINCIPAIS =====

        function toggleNumero(numero) {
            if (numerosSorteados.has(numero) && !permitirNumerosSorteados) {
                showCustomAlert('‚ö†Ô∏è N√∫mero J√° Sorteado', `O n√∫mero ${numero.toString().padStart(2, '0')} saiu no √∫ltimo concurso.`);
                return;
            }
            
            const btn = document.querySelector(`[data-numero="${numero}"]`);
            const maxSelecionados = parseInt(document.getElementById('quantidadeDezenas').value);
            
            if (numerosDropArea.includes(numero)) {
                removerNumeroDropArea(numero);
                btn.classList.remove('selecionado');
            } else if (numerosDropArea.length < maxSelecionados) {
                adicionarNumeroDropArea(numero);
                btn.classList.add('selecionado');
            } else {
                showCustomAlert('‚ö†Ô∏è Limite Atingido', `Voc√™ j√° selecionou ${maxSelecionados} n√∫meros!`);
            }
        }

        function toggleMes(mes) {
            if (mesAnterior === mes) {
                showCustomAlert('‚ö†Ô∏è M√™s J√° Sorteado', `O m√™s ${getNomeMes(mes)} saiu no √∫ltimo concurso.`);
                return;
            }
            
            // Remover sele√ß√£o anterior
            document.querySelectorAll('.mes-sorte').forEach(btn => {
                btn.classList.remove('selecionado');

            });
            
            if (mesDropArea === mes) {
                mesDropArea = null;
            } else {
                mesDropArea = mes;
                const btn = document.querySelector(`[data-mes="${mes}"]`);
                btn.classList.add('selecionado');
            }
            
            atualizarVisualizacaoDropArea();
            validarBotaoAdicionar();
        }

        function selecionarMes(mes) {
            toggleMes(mes);
        }


        // Gera√ß√£o Minimalista
        function gerarMinimalistas() {
            const quantidade = parseInt(document.getElementById('quantidadeJogos').value);
            const estrategia = document.getElementById('estrategiaGeracao').value;
            
            const jogosGerados = [];
            
            for (let i = 0; i < quantidade; i++) {
                const jogo = gerarJogoMinimalista(estrategia);
                if (jogo) {
                    jogosGerados.push(jogo);
                }
            }
            
            exibirJogosGerados(jogosGerados);
        }

        function gerarJogoMinimalista(estrategia) {
            let numeros = [];
            let mes = Math.floor(Math.random() * 12) + 1;
            
            // Evitar n√∫meros/m√™s j√° sorteados se configurado
            const permiteSorteados = document.getElementById('permitirNumerosSorteados').checked;
            let numerosDisponiveis = Array.from({length: 31}, (_, i) => i + 1);
            
            if (!permiteSorteados) {
                numerosDisponiveis = numerosDisponiveis.filter(n => !numerosSorteados.has(n));
                if (mes === mesSorteado) {
                    mes = Math.floor(Math.random() * 12) + 1;
                }
            }
            
            // Aplicar estrat√©gia par/√≠mpar
            let targetPares, targetImpares;
            
            switch (estrategia) {
                case 'equilibrada':
                    targetPares = 3;
                    targetImpares = 4;
                    break;
                case 'mais-pares':
                    targetPares = 4;
                    targetImpares = 3;
                    break;
                case 'mais-impares':
                    targetPares = 2;
                    targetImpares = 5;
                    break;
                default:
                    targetPares = Math.floor(Math.random() * 6) + 1;
                    targetImpares = 7 - targetPares;
            }
            
            // Gerar n√∫meros com base na estrat√©gia
            const pares = numerosDisponiveis.filter(n => n % 2 === 0);
            const impares = numerosDisponiveis.filter(n => n % 2 !== 0);
            
            // Selecionar pares
            for (let i = 0; i < targetPares && pares.length > 0; i++) {
                const index = Math.floor(Math.random() * pares.length);
                numeros.push(pares.splice(index, 1)[0]);
            }
            
            // Selecionar √≠mpares
            for (let i = 0; i < targetImpares && impares.length > 0; i++) {
                const index = Math.floor(Math.random() * impares.length);
                numeros.push(impares.splice(index, 1)[0]);
            }
            
            if (numeros.length === 7) {
                return {
                    id: Date.now() + Math.random(),
                    numeros: numeros.sort((a, b) => a - b),
                    mes: mes,
                    custo: valorAposta,
                    pares: numeros.filter(n => n % 2 === 0).length,
                    impares: numeros.filter(n => n % 2 !== 0).length,
                    origem: 'Gera√ß√£o Minimalista'
                };
            }
            
            return null;
        }

        function exibirJogosGerados(jogos) {
            const container = document.getElementById('resultadosMinimalistas');
            const lista = document.getElementById('listaJogosGerados');
            
            lista.innerHTML = '';
            
            if (jogos.length === 0) {
                lista.innerHTML = '<p class="text-gray-500 text-center py-4">Nenhum jogo foi gerado</p>';
                container.classList.remove('hidden');
                return;
            }
            
            jogos.forEach((jogo, index) => {
                const jogoDiv = document.createElement('div');
                jogoDiv.className = 'palpite-card';
                
                jogoDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-bold text-green-600">Jogo ${index + 1}</span>
                        <div class="text-xs text-gray-600">
                            ${jogo.pares}P/${jogo.impares}I
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="flex flex-wrap gap-1">
                            ${jogo.numeros.map(num => 
                                `<div class="numero-palpite">${num.toString().padStart(2, '0')}</div>`
                            ).join('')}
                        </div>
                        <div class="mes-palpite">${MESES[jogo.mes - 1].substring(0, 3)}</div>
                    </div>
                `;
                
                lista.appendChild(jogoDiv);
            });
            
            window.jogosGerados = jogos;
            container.classList.remove('hidden');
        }

        function adicionarTodosGerados() {
            if (window.jogosGerados) {
                window.jogosGerados.forEach(jogo => {
                    jogosAdicionados.push(jogo);
                });
                
                atualizarVisualizacaoJogos();
                atualizarCustoTotal();
                showCustomAlert('‚úÖ Sucesso', `${window.jogosGerados.length} jogos adicionados!`);
            }

        function adicionarNumeroDropArea(numero) {
            const quantidadePermitida = parseInt(document.getElementById('quantidadeDezenas').value);
            
            if (!numerosDropArea.includes(numero) && numerosDropArea.length < quantidadePermitida) {
                numerosDropArea.push(numero);
                atualizarVisualizacaoDropArea();
                atualizarContadorDistribuicao();
                validarBotaoAdicionar();
            }
        }

        function removerNumeroDropArea(numero) {
            numerosDropArea = numerosDropArea.filter(n => n !== numero);
            atualizarVisualizacaoDropArea();
            atualizarContadorDistribuicao();
            validarBotaoAdicionar();
        }

        function atualizarVisualizacaoDropArea() {
            const dropZone = document.getElementById('dropZone');
            const dropMessage = document.getElementById('dropMessage');
            const numerosDropped = document.getElementById('numerosDropped');
            const numerosNaArea = document.getElementById('numerosNaArea');
            const mesesNaArea = document.getElementById('mesesNaArea');
            const quantidadeEspecificada = document.getElementById('quantidadeEspecificada');
            
            const quantidadeAtual = parseInt(document.getElementById('quantidadeDezenas').value) || 7;
            
            quantidadeEspecificada.textContent = quantidadeAtual.toString();
            numerosNaArea.textContent = numerosDropArea.length.toString();
            mesesNaArea.textContent = mesDropArea ? '1' : '0';
            
            if (numerosDropArea.length === 0 && !mesDropArea) {
                dropMessage.classList.remove('hidden');
                numerosDropped.classList.add('hidden');
            } else {
                dropMessage.classList.add('hidden');
                numerosDropped.classList.remove('hidden');
                
                let html = '';
                
                // N√∫meros
                numerosDropArea.forEach(numero => {
                    html += `
                        <div class="numero-drop">
                            ${numero.toString().padStart(2, '0')}
                            <div class="remove-btn" onclick="removerNumeroDropArea(${numero}); document.querySelector('[data-numero=\\'${numero}\\']').classList.remove('selecionado');">√ó</div>
                        </div>
                    `;
                });
                
                // M√™s
                if (mesDropArea) {
                    html += `
                        <div class="mes-drop">
                            ${getNomeMes(mesDropArea)}
                            <div class="remove-btn" onclick="toggleMes(${mesDropArea});">√ó</div>
                        </div>
                    `;
                }
                
                numerosDropped.innerHTML = html;
            }
        }

        function processarNumerosInput() {
            const input = document.getElementById('inputManual');
            const texto = input.value.trim();
            
            if (!texto) {
                showCustomAlert('‚ö†Ô∏è Campo Vazio', 'Digite alguns n√∫meros primeiro!');
                return;
            }
            
            const numerosTexto = texto.match(/\d+/g);
            if (!numerosTexto) {
                showCustomAlert('‚ùå Erro', 'Nenhum n√∫mero v√°lido encontrado!');
                return;
            }
            
            const numerosValidos = numerosTexto
                .map(n => parseInt(n))
                .filter(n => n >= 1 && n <= 31)
                .filter((n, index, arr) => arr.indexOf(n) === index);
            
            if (numerosValidos.length === 0) {
                showCustomAlert('‚ùå Erro', 'Nenhum n√∫mero v√°lido (01-31) encontrado!');
                return;
            }
            
            const numerosSorteadosNaLista = numerosValidos.filter(n => numerosSorteados.has(n));
            if (numerosSorteadosNaLista.length > 0 && !permitirNumerosSorteados) {
                showCustomAlert('‚ö†Ô∏è N√∫meros J√° Sorteados', `Os n√∫meros ${numerosSorteadosNaLista.map(n => n.toString().padStart(2, '0')).join(', ')} sa√≠ram no √∫ltimo concurso.`);
                return;
            }
            
            const quantidadePermitida = parseInt(document.getElementById('quantidadeDezenas').value);
            if (numerosValidos.length > quantidadePermitida) {
                showCustomAlert('‚ö†Ô∏è Aviso', `Voc√™ digitou ${numerosValidos.length} n√∫meros, mas selecionou ${quantidadePermitida} dezenas. Os primeiros ${quantidadePermitida} ser√£o usados.`);
            }
            
            limparSelecao();
            
            const numerosParaAplicar = numerosValidos.slice(0, quantidadePermitida);
            numerosParaAplicar.forEach(numero => {
                numerosDropArea.push(numero);
                const btn = document.querySelector(`[data-numero="${numero}"]`);
                if (btn) btn.classList.add('selecionado');
            });
            
            input.value = '';
            
            atualizarVisualizacaoDropArea();
            atualizarContadorDistribuicao();
            validarBotaoAdicionar();
            
            showCustomAlert('‚úÖ Sucesso', `${numerosParaAplicar.length} n√∫meros aplicados!`);
        }

        function atualizarContadorDistribuicao() {
            const inicioAtuais = numerosDropArea.filter(num => num >= 1 && num <= 10).length;
            const meioAtuais = numerosDropArea.filter(num => num >= 11 && num <= 20).length;
            const finalAtuais = numerosDropArea.filter(num => num >= 21 && num <= 31).length;
            
            document.getElementById('inicioAtuais').textContent = inicioAtuais;
            document.getElementById('meioAtuais').textContent = meioAtuais;
            document.getElementById('finalAtuais').textContent = finalAtuais;
            
            document.getElementById('inicioAtuais').classList.add('contador-destaque');
            document.getElementById('meioAtuais').classList.add('contador-destaque');
            document.getElementById('finalAtuais').classList.add('contador-destaque');
            
            setTimeout(() => {
                document.getElementById('inicioAtuais').classList.remove('contador-destaque');
                document.getElementById('meioAtuais').classList.remove('contador-destaque');
                document.getElementById('finalAtuais').classList.remove('contador-destaque');
            }, 500);
            
            const totalSelecionados = numerosDropArea.length;
            const statusEl = document.getElementById('statusEstrategiaData');
            
            if (totalSelecionados === 0) {
                statusEl.textContent = 'üéØ Selecione n√∫meros para ver sua estrat√©gia';
                statusEl.className = 'text-center p-2 rounded-lg font-bold text-sm bg-gray-100 text-gray-700';
            } else if (totalSelecionados < 7) {
                const inicioRestantes = Math.max(0, 2 - inicioAtuais);
                const meioRestantes = Math.max(0, 2 - meioAtuais);
                const finalRestantes = Math.max(0, 2 - finalAtuais);
                
                if (inicioRestantes > 0 || meioRestantes > 0 || finalRestantes > 0) {
                    statusEl.textContent = `üìç Sugest√£o: ${inicioRestantes > 0 ? inicioRestantes + ' in√≠cio ' : ''}${meioRestantes > 0 ? meioRestantes + ' meio ' : ''}${finalRestantes > 0 ? finalRestantes + ' final' : ''}`;
                    statusEl.className = 'text-center p-2 rounded-lg font-bold text-sm bg-blue-100 text-blue-800';
                } else {
                    statusEl.textContent = '‚úÖ Distribui√ß√£o equilibrada! Continue selecionando...';
                    statusEl.className = 'text-center p-2 rounded-lg font-bold text-sm bg-yellow-100 text-yellow-800';
                }
            } else {
                const totalFaixas = (inicioAtuais > 0 ? 1 : 0) + (meioAtuais > 0 ? 1 : 0) + (finalAtuais > 0 ? 1 : 0);
                
                if (totalFaixas === 3 && Math.abs(inicioAtuais - meioAtuais) <= 1 && Math.abs(meioAtuais - finalAtuais) <= 1) {
                    statusEl.textContent = 'üéØ ESTRAT√âGIA PERFEITA! Distribui√ß√£o ideal';
                    statusEl.className = 'text-center p-2 rounded-lg font-bold text-sm bg-green-200 text-green-800 meta-atingida';
                } else if (totalFaixas >= 2) {
                    statusEl.textContent = '‚úÖ Estrat√©gia muito boa!';
                    statusEl.className = 'text-center p-2 rounded-lg font-bold text-sm bg-green-100 text-green-800';
                } else {
                    statusEl.textContent = '‚ö†Ô∏è Concentrado em uma faixa';
                    statusEl.className = 'text-center p-2 rounded-lg font-bold text-sm bg-red-100 text-red-800';
                }
            }
        }

        function validarBotaoAdicionar() {
            const btn = document.getElementById('adicionarJogo');
            const quantidadeNecessaria = parseInt(document.getElementById('quantidadeDezenas').value);
            const temNumerosSuficientes = numerosDropArea.length === quantidadeNecessaria;
            const temMes = mesDropArea !== null;
            
            btn.disabled = !(temNumerosSuficientes && temMes);
        }

        function limparSelecao() {
            numerosDropArea = [];
            mesDropArea = null;
            
            document.querySelectorAll('.numero-dias').forEach(btn => {
                btn.classList.remove('selecionado');
            });
            
            document.querySelectorAll('.mes-sorte').forEach(btn => {
                btn.classList.remove('selecionado');
            });
            
            atualizarVisualizacaoDropArea();
            atualizarContadorDistribuicao();
            validarBotaoAdicionar();
        }

        function randomizarJogo() {
            limparSelecao();
            const quantidade = parseInt(document.getElementById('quantidadeDezenas').value);
            let numerosDisponiveis = Array.from({length: 31}, (_, i) => i + 1);
            
            if (!permitirNumerosSorteados) {
                numerosDisponiveis = numerosDisponiveis.filter(n => !numerosSorteados.has(n));
            }
            
            while (numerosDropArea.length < quantidade && numerosDisponiveis.length > 0) {
                const index = Math.floor(Math.random() * numerosDisponiveis.length);
                const numero = numerosDisponiveis.splice(index, 1)[0];
                numerosDropArea.push(numero);
                
                const btn = document.querySelector(`[data-numero="${numero}"]`);
                if (btn) btn.classList.add('selecionado');
            }
            
            // Selecionar m√™s aleat√≥rio (evitar o m√™s anterior)
            let mesesDisponiveis = Array.from({length: 12}, (_, i) => i + 1);
            if (mesAnterior) {
                mesesDisponiveis = mesesDisponiveis.filter(m => m !== mesAnterior);
            }
            
            if (mesesDisponiveis.length > 0) {
                const mesAleatorio = mesesDisponiveis[Math.floor(Math.random() * mesesDisponiveis.length)];
                toggleMes(mesAleatorio);
            }
            
            atualizarVisualizacaoDropArea();
            atualizarContadorDistribuicao();
            validarBotaoAdicionar();
        }

        function adicionarJogo() {
            const quantidade = parseInt(document.getElementById('quantidadeDezenas').value);
            const custo = sistemaValores.obterValor(quantidade);
            
            const jogo = {
                id: Date.now(),
                numeros: [...numerosDropArea], // Manter ordem original de sele√ß√£o
                mes: mesDropArea,
                quantidade: quantidade,
                custo: custo,
                inicio: numerosDropArea.filter(n => n >= 1 && n <= 10).length,
                meio: numerosDropArea.filter(n => n >= 11 && n <= 20).length,
                final: numerosDropArea.filter(n => n >= 21 && n <= 31).length,
                origem: 'Manual'
            };
            
            meusJogos.push(jogo);
            limparSelecao();
            atualizarVisualizacaoJogos();
            atualizarCustoTotal();
            
            showCustomAlert('‚úÖ Sucesso', 'Jogo adicionado com sucesso!');

        }

        // ===== GERA√á√ÉO MINIMALISTA =====

        function gerarJogosMinimalistas() {
            const qtdJogos = parseInt(document.getElementById('qtdJogosMin').value);
            const dezenasJogo = parseInt(document.getElementById('dezenasPorJogoMin').value);
            const estrategia = document.getElementById('estrategiaMin').value;
            
            console.log('üéØ Configura√ß√£o Dia de Sorte:', {qtdJogos, dezenasJogo, estrategia}); // Debug
            
            const regrasSelecionadas = [];
            document.querySelectorAll('.regra-checkbox:checked').forEach(checkbox => {
                regrasSelecionadas.push(checkbox.id);
            });
            
            if (regrasSelecionadas.length === 0) {
                showCustomAlert('‚ö†Ô∏è Nenhuma Regra', 'Selecione pelo menos uma regra minimalista!');
                return;
            }
            
            const jogosGerados = [];
            
            for (let i = 0; i < qtdJogos; i++) {
                const jogo = gerarJogoComRegrasSelecionadas(dezenasJogo, estrategia, regrasSelecionadas, i);
                console.log(`üéÆ Jogo ${i+1} gerado com ${jogo.numeros.length} n√∫meros:`, jogo); // Debug
                
                jogosGerados.push({
                    id: Date.now() + i,
                    numeros: jogo.numeros.slice(0, dezenasJogo),
                    mes: jogo.mes,
                    quantidade: dezenasJogo,
                    custo: sistemaValores.obterValor(dezenasJogo),
                    estrategia: estrategia,
                    regras: regrasSelecionadas.length,
                    origem: `Minimalista (${regrasSelecionadas.length} regras)`
                });
            }
            
            exibirJogosMinimalistas(jogosGerados);
        }

        function gerarJogoComRegrasSelecionadas(quantidade, estrategia, regras, indiceJogo = 0) {
            const numerosBase = [];
            const data = new Date();
            
            // Obter dados do contexto
            const concurso = ultimoResultado ? ultimoResultado.numero + 1 : 1001;
            const premio = ultimoResultado ? Math.floor(ultimoResultado.valorEstimadoProximoConcurso / 10000) : 80;
            const ano = data.getFullYear();
            const mes = data.getMonth() + 1;
            const dia = data.getDate();
            
            // Adicionar varia√ß√£o baseada no √≠ndice do jogo
            const variacao = indiceJogo * 3 + Math.floor(Math.random() * 20);
            
            // ===== REGRAS ESPEC√çFICAS PARA DIA DE SORTE =====
            
            // R1 - Datas Diretas
            if (regras.includes('r1-direto')) {
                if (dia <= 31) numerosBase.push(dia);
                if (mes <= 31) numerosBase.push(mes);
                const anoLimitado = (ano % 100) % 31;
                if (anoLimitado > 0) numerosBase.push(anoLimitado);
            }
            
            // R2 - Soma de Datas
            if (regras.includes('r2-soma')) {
                const soma1 = (dia + mes) % 31 || 31;
                const soma2 = (dia + (ano % 100)) % 31 || 31;
                const soma3 = (mes + (ano % 100)) % 31 || 31;
                numerosBase.push(soma1, soma2, soma3);
            }
            
            // R3 - Anivers√°rios e Datas Especiais
            if (regras.includes('r3-aniversarios')) {
                const datasEspeciais = [25, 1, 7, 12, 15, 21]; // Natal, Ano Novo, Independ√™ncia, etc.
                numerosBase.push(...datasEspeciais.slice(0, 3));
            }
            
            // R4 - Diferen√ßa de Datas
            if (regras.includes('r4-diferenca')) {
                const diff1 = Math.abs(dia - mes);
                const diff2 = Math.abs(dia - (ano % 31));
                if (diff1 > 0 && diff1 <= 31) numerosBase.push(diff1);
                if (diff2 > 0 && diff2 <= 31) numerosBase.push(diff2);
            }
            
            // R5 - Calend√°rio
            if (regras.includes('r5-calendario')) {
                const diaSemana = data.getDay() + 1; // 1-7
                const quinzena = dia <= 15 ? 15 : 31;
                numerosBase.push(diaSemana, quinzena);
                
                // √öltimo dia do m√™s
                const ultimoDia = new Date(ano, mes, 0).getDate();
                if (ultimoDia <= 31) numerosBase.push(ultimoDia);
            }
            
            // R6 - Sequenciais
            if (regras.includes('r6-sequenciais')) {
                if (dia > 1 && dia < 31) {
                    numerosBase.push(dia - 1, dia + 1);
                }
                if (mes > 1 && mes <= 11) {
                    const mesAnterior = mes - 1;
                    const mesProximo = mes + 1;
                    if (mesAnterior <= 31) numerosBase.push(mesAnterior);
                    if (mesProximo <= 31) numerosBase.push(mesProximo);
                }
            }
            
            // R7 - Pr√™mio Relacionado
            if (regras.includes('r7-premio')) {
                const premioLimitado = premio % 31 || 31;
                const premioDobro = (premio * 2) % 31 || 31;
                numerosBase.push(premioLimitado, premioDobro);
            }
            
            // R8 - Feriados Especiais
            if (regras.includes('r8-feriados')) {
                const feriados = [25, 1, 7, 9, 12, 21, 15]; // Datas de feriados nacionais
                numerosBase.push(...feriados.slice(0, 2));
            }
            
            // R9 - Estat√≠sticas Reais (baseado na API)
            if (regras.includes('r9-estatisticas')) {
                if (ultimoResultado && ultimoResultado.listaDezenas) {
                    const numerosAnteriores = ultimoResultado.listaDezenas.map(n => parseInt(n));
                    // Usar n√∫meros pr√≥ximos aos anteriores
                    numerosAnteriores.forEach(num => {
                        const proximo = (num + 1) <= 31 ? num + 1 : 1;
                        const anterior = (num - 1) > 0 ? num - 1 : 31;
                        numerosBase.push(proximo, anterior);
                    });
                }
            }
            
            // R10 - Frequ√™ncia (simulada)
            if (regras.includes('r10-frequencia')) {
                // N√∫meros com "alta frequ√™ncia" simulada
                const frequentes = [7, 14, 21, 28, 3, 10, 17, 24, 31];
                numerosBase.push(...frequentes.slice(0, 4));
            }
            
            // R11 - Geogr√°fica
            if (regras.includes('r11-geografica')) {
                // CEPs fict√≠cios e c√≥digos de regi√µes
                const codigos = [1, 2, 3, 4, 5, 8, 9, 11, 13, 16, 19, 22, 27];
                numerosBase.push(...codigos.slice(0, 3));
            }
            
            // R12 - M√∫ltiplos de Datas
            if (regras.includes('r12-multiplos')) {
                const dobro = (dia * 2) % 31 || 31;
                const triplo = (dia * 3) % 31 || 31;
                numerosBase.push(dobro, triplo);
            }
            
            // R13 - Invers√£o de N√∫meros
            if (regras.includes('r13-inversao')) {
                if (dia >= 10) {
                    const diaStr = dia.toString();
                    const diaInvertido = parseInt(diaStr.split('').reverse().join(''));
                    if (diaInvertido <= 31) numerosBase.push(diaInvertido);
                }
            }
            
            // R14 - Fibonacci baseado em datas
            if (regras.includes('r14-fibonacci')) {
                let fib1 = dia % 31;
                let fib2 = mes % 31;
                for (let i = 0; i < 3; i++) {
                    const fib3 = (fib1 + fib2) % 31 || 31;
                    numerosBase.push(fib3);
                    fib1 = fib2;
                    fib2 = fib3;
                }
            }
            
            // R15 - Esta√ß√µes do Ano
            if (regras.includes('r15-estacoes')) {
                const inicioEstacoes = [21, 21, 23, 20]; // Mar, Jun, Set, Dez (aproximado)
                numerosBase.push(...inicioEstacoes);
            }
            
            // R16 - Proximidade
            if (regras.includes('r16-proximidade')) {
                const datasImportantes = [dia, mes, 25, 1]; // Natal e Ano Novo
                datasImportantes.forEach(data => {
                    for (let i = -2; i <= 2; i++) {
                        const proximo = data + i;
                        if (proximo >= 1 && proximo <= 31) {
                            numerosBase.push(proximo);
                        }
                    }
                });
            }
            
            // Adicionar n√∫meros aleat√≥rios para garantir varia√ß√£o
            for (let i = 0; i < 5; i++) {
                const aleatorio = Math.floor(Math.random() * 31) + 1;
                numerosBase.push(aleatorio);
            }
            
            // Remover duplicatas e limitar a 31
            let numerosValidos = [...new Set(numerosBase)].filter(n => n >= 1 && n <= 31);
            
            // R17 - Filtros Inteligentes
            if (regras.includes('r17-filtros')) {
                // Evitar sequ√™ncias muito √≥bvias
                numerosValidos = numerosValidos.filter((num, index) => {
                    const sequencia = numerosValidos.slice(index, index + 4);
                    const isSequencial = sequencia.length === 4 && 
                        sequencia.every((n, i) => i === 0 || n === sequencia[i-1] + 1);
                    return !isSequencial;
                });
                
                // Evitar muitos n√∫meros do √∫ltimo sorteio
                if (numerosSorteados.size > 0) {
                    const numerosDoUltimoSorteio = numerosValidos.filter(n => numerosSorteados.has(n));
                    if (numerosDoUltimoSorteio.length > 2) {
                        numerosValidos = numerosValidos.filter(n => !numerosSorteados.has(n));
                        numerosValidos.push(...numerosDoUltimoSorteio.slice(0, 2));
                    }
                }
            }
            
            // Completar com n√∫meros aleat√≥rios
            const numerosDisponiveis = Array.from({length: 31}, (_, i) => i + 1)
                .filter(n => !numerosValidos.includes(n));
            
            // Aplicar estrat√©gia de distribui√ß√£o
            let jogo = [...numerosValidos];
            
            // R18 - Balanceamento por faixas
            if (regras.includes('r18-balanceamento')) {
                let targetInicio, targetMeio, targetFinal;
                
                switch (estrategia) {
                    case 'equilibrada':
                        targetInicio = Math.floor(quantidade / 3);
                        targetMeio = Math.floor(quantidade / 3);
                        targetFinal = quantidade - targetInicio - targetMeio;
                        break;
                    case 'inicio':
                        targetInicio = Math.ceil(quantidade * 0.5);
                        targetMeio = Math.floor(quantidade * 0.3);
                        targetFinal = quantidade - targetInicio - targetMeio;
                        break;
                    case 'meio':
                        targetMeio = Math.ceil(quantidade * 0.5);
                        targetInicio = Math.floor(quantidade * 0.25);
                        targetFinal = quantidade - targetInicio - targetMeio;
                        break;
                    case 'final':
                        targetFinal = Math.ceil(quantidade * 0.5);
                        targetInicio = Math.floor(quantidade * 0.25);
                        targetMeio = quantidade - targetInicio - targetFinal;
                        break;
                    case 'datas':
                        // Baseado nas datas atuais
                        targetInicio = dia <= 10 ? 3 : 2;
                        targetMeio = (mes >= 6 && mes <= 8) ? 3 : 2;
                        targetFinal = quantidade - targetInicio - targetMeio;
                        break;
                    default:
                        targetInicio = Math.floor(Math.random() * (quantidade - 1)) + 1;
                        targetMeio = Math.floor(Math.random() * (quantidade - targetInicio)) + 1;
                        targetFinal = quantidade - targetInicio - targetMeio;
                }
                
                // Distribuir n√∫meros por faixas
                while (jogo.length < quantidade && numerosDisponiveis.length > 0) {
                    const inicioAtuais = jogo.filter(n => n >= 1 && n <= 10).length;
                    const meioAtuais = jogo.filter(n => n >= 11 && n <= 20).length;
                    const finalAtuais = jogo.filter(n => n >= 21 && n <= 31).length;
                    
                    let prefereFaixa = 'qualquer';
                    if (inicioAtuais < targetInicio) prefereFaixa = 'inicio';
                    else if (meioAtuais < targetMeio) prefereFaixa = 'meio';
                    else if (finalAtuais < targetFinal) prefereFaixa = 'final';
                    
                    const candidatos = numerosDisponiveis.filter(n => {
                        switch (prefereFaixa) {
                            case 'inicio': return n >= 1 && n <= 10;
                            case 'meio': return n >= 11 && n <= 20;
                            case 'final': return n >= 21 && n <= 31;
                            default: return true;
                        }
                    });
                    
                    if (candidatos.length === 0) {
                        const index = Math.floor(Math.random() * numerosDisponiveis.length);
                        jogo.push(numerosDisponiveis.splice(index, 1)[0]);
                    } else {
                        const index = Math.floor(Math.random() * candidatos.length);
                        const numeroEscolhido = candidatos[index];
                        jogo.push(numeroEscolhido);
                        numerosDisponiveis.splice(numerosDisponiveis.indexOf(numeroEscolhido), 1);
                    }
                }
            } else {
                // Completar aleatoriamente se balanceamento n√£o estiver ativo
                while (jogo.length < quantidade && numerosDisponiveis.length > 0) {
                    const index = Math.floor(Math.random() * numerosDisponiveis.length);
                    jogo.push(numerosDisponiveis.splice(index, 1)[0]);
                }
            }
            
            // Gerar m√™s da sorte
            let mesesDisponiveis = Array.from({length: 12}, (_, i) => i + 1);
            if (mesAnterior) {
                mesesDisponiveis = mesesDisponiveis.filter(m => m !== mesAnterior);
            }
            
            let mesEscolhido;
            if (regras.includes('r1-direto') && mes <= 12) {
                mesEscolhido = mes; // Usar m√™s atual se v√°lido
            } else {
                mesEscolhido = mesesDisponiveis[Math.floor(Math.random() * mesesDisponiveis.length)];
            }
            
            // R19 - Otimiza√ß√£o Final
            if (regras.includes('r19-otimizacao')) {
                // Garantir que o jogo final tenha exatamente a quantidade correta
                jogo = jogo.slice(0, quantidade);
                
                // Remover duplicatas finais
                jogo = [...new Set(jogo)];
                
                // Se ficou com menos n√∫meros, completar
                while (jogo.length < quantidade && numerosDisponiveis.length > 0) {
                    const numeroAdicional = numerosDisponiveis.splice(
                        Math.floor(Math.random() * numerosDisponiveis.length), 1
                    )[0];
                    if (numeroAdicional) jogo.push(numeroAdicional);
                }
            }
            
            return {
                numeros: jogo,
                mes: mesEscolhido
            };
        }

        function exibirJogosMinimalistas(jogos) {
            const resultadosDiv = document.getElementById('resultadosMin');
            const listaJogos = document.getElementById('listaJogosMin');
            
            listaJogos.innerHTML = '';
            
            jogos.forEach((jogo, index) => {
                const jogoDiv = document.createElement('div');
                jogoDiv.className = 'jogo-minimalista-card';
                
                const inicio = jogo.numeros.filter(n => n >= 1 && n <= 10).length;
                const meio = jogo.numeros.filter(n => n >= 11 && n <= 20).length;
                const final = jogo.numeros.filter(n => n >= 21 && n <= 31).length;
                
                jogoDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-bold text-purple-600 text-sm">Jogo ${index + 1}</span>
                        <div class="flex gap-1">
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded">${inicio}I</span>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded">${meio}M</span>
                            <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded">${final}F</span>
                            <span class="px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded">${jogo.regras}R</span>
                            <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded">${formatarMoeda(jogo.custo)}</span>
                            <button onclick="editarJogoMinimalistaPorId('${jogo.id}')" class="px-2 py-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs rounded transition-all duration-200 hover:scale-105" title="Editar jogo">
                                ‚úèÔ∏è
                            </button>
                            <button onclick="excluirJogoMinimalistaPorId('${jogo.id}')" class="px-2 py-1 bg-red-500 hover:bg-red-600 text-white text-xs rounded transition-all duration-200 hover:scale-105" title="Excluir jogo">
                                üóëÔ∏è
                            </button>
                        </div>
                    </div>
                    <div class="flex flex-wrap gap-1 mb-2 items-center">
                        ${jogo.numeros.map(num => `<span class="numero-minimalista">${num.toString().padStart(2, '0')}</span>`).join('')}
                        <span class="mes-minimalista">${getNomeMes(jogo.mes)}</span>
                    </div>
                    <div class="text-xs text-gray-600">
                        ${jogo.estrategia} | ${jogo.numeros.length} dezenas + m√™s | ${jogo.regras} regras
                    </div>
                `;
                
                listaJogos.appendChild(jogoDiv);
            });
            
            resultadosDiv.classList.remove('hidden');
            window.jogosMinimalistasGerados = jogos;
        }

        function adicionarTodosJogosMinimalistas() {
            if (!window.jogosMinimalistasGerados || window.jogosMinimalistasGerados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'Gere alguns jogos minimalistas primeiro!');
                return;
            }
            
            window.jogosMinimalistasGerados.forEach(jogoMin => {
                const jogo = {
                    id: Date.now() + Math.random(),
                    numeros: [...jogoMin.numeros],
                    mes: jogoMin.mes,
                    quantidade: jogoMin.quantidade,
                    custo: jogoMin.custo,
                    inicio: jogoMin.numeros.filter(n => n >= 1 && n <= 10).length,
                    meio: jogoMin.numeros.filter(n => n >= 11 && n <= 20).length,
                    final: jogoMin.numeros.filter(n => n >= 21 && n <= 31).length,
                    origem: jogoMin.origem
                };
                meusJogos.push(jogo);
            });
            
            atualizarVisualizacaoJogos();
            atualizarCustoTotal();
            
            showCustomAlert('‚úÖ Sucesso', `${window.jogosMinimalistasGerados.length} jogo(s) adicionado(s)!`);
        }

        // ===== VISUALIZA√á√ÉO E CONTROLES =====

        function atualizarVisualizacaoJogos() {
            const lista = document.getElementById('listaJogos');
            const ordemCrescente = document.getElementById('mostrarOrdemCrescente').checked;
            
            if (meusJogos.length === 0) {
                lista.innerHTML = '<p class="text-gray-500 text-center py-8">Nenhum jogo adicionado ainda</p>';
                return;
            }
            
            lista.innerHTML = '';
            meusJogos.forEach((jogo, index) => {
                const jogoDiv = document.createElement('div');
                jogoDiv.className = 'jogo-card';
                
                const numerosOrdenados = ordemCrescente ? 
                    [...jogo.numeros].sort((a, b) => a - b) : 
                    jogo.numeros;
                
                jogoDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <span class="font-bold text-diasorte">Jogo ${index + 1}</span>
                        <div class="flex gap-2">

                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded">${jogo.pares}P</span>
                            <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded">${jogo.impares}I</span>

                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded">${jogo.inicio || 0}I</span>
                            <span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded">${jogo.meio || 0}M</span>
                            <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded">${jogo.final || 0}F</span>

                            <button onclick="removerJogo(${jogo.id})" class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs">
                                üóëÔ∏è
                            </button>
                        </div>
                    </div>
                    <div class="flex flex-wrap gap-1 mb-2 items-center">
                        ${numerosOrdenados.map(num => 
                            `<div class="numero-jogo">${num.toString().padStart(2, '0')}</div>`
                        ).join('')}
                        <div class="mes-jogo">${getNomeMes(jogo.mes)}</div>
                    </div>
                    <div class="text-sm text-gray-600">
                        ${jogo.numeros.length} dezenas + m√™s da sorte - ${formatarMoeda(jogo.custo)}
                        ${jogo.origem ? `<span class="text-orange-600"> | ${jogo.origem}</span>` : ''}
                    </div>
                `;
                
                lista.appendChild(jogoDiv);
            });
        }

        function removerJogo(id) {
            showCustomConfirm('Tem certeza que deseja excluir este jogo?', () => {
                meusJogos = meusJogos.filter(jogo => jogo.id !== id);
                atualizarVisualizacaoJogos();
                atualizarCustoTotal();

            });
        }

        function limparTodos() {
            if (jogosAdicionados.length === 0) return;

                showCustomAlert('‚úÖ Removido', 'Jogo exclu√≠do!');
            });
        }

        function limparTodosJogos() {
            if (meusJogos.length === 0) return;

            
            showCustomConfirm('Tem certeza que deseja remover todos os jogos?', () => {
                meusJogos = [];
                atualizarVisualizacaoJogos();
                atualizarCustoTotal();
            });
        }

        function atualizarCustoTotal() {
            const total = meusJogos.reduce((sum, jogo) => sum + jogo.custo, 0);
            document.getElementById('custoTotal').textContent = formatarMoeda(total);
            document.getElementById('totalJogos').textContent = meusJogos.length;
        }


        function atualizarValorAposta() {
            const valor = parseFloat(document.getElementById('valorAposta').value);
            if (valor > 0) {
                valorAposta = valor;
                document.getElementById('valor7numeros').textContent = formatarMoeda(valor);
                document.getElementById('ultimaAtualizacao').textContent = new Date().toLocaleString('pt-BR');
            }
        }

        // Downloads
        function downloadTXT() {
            if (jogosAdicionados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'Adicione pelo menos um jogo antes de fazer o download!');
                return;
            }
            
            let txt = '';
            jogosAdicionados.forEach((jogo, index) => {
                txt += `${jogo.numeros.map(n => n.toString().padStart(2, '0')).join(' ')} + ${MESES[jogo.mes - 1]}`;
                if (index < jogosAdicionados.length - 1) {
                    txt += '\n';
                }
            });
            baixarArquivo(txt, 'dia-de-sorte-jogos.txt', 'text/plain');
        }

        function downloadHTML() {
            if (jogosAdicionados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'Adicione pelo menos um jogo antes de fazer o download!');
                return;
            }
            
            const total = jogosAdicionados.reduce((sum, jogo) => sum + jogo.custo, 0);

        // ===== DOWNLOADS =====

        function downloadJogos(formato) {
            if (meusJogos.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'Adicione jogos primeiro!');
                return;
            }
            
            switch (formato) {
                case 'txt': downloadTXT(); break;
                case 'html': downloadHTML(); break;
                case 'xlsx': downloadXLSX(); break;
            }
        }

        function downloadTXT() {
            let txt = '';
            meusJogos.forEach((jogo, index) => {
                txt += jogo.numeros.map(n => n.toString().padStart(2, '0')).join(' ');
                txt += ` - ${getNomeMes(jogo.mes)}`;
                if (index < meusJogos.length - 1) txt += '\n';
            });
            baixarArquivo(txt, 'dia-de-sorte-jogos.txt', 'text/plain');
        }

        function downloadHTML() {
            const total = meusJogos.reduce((sum, jogo) => sum + jogo.custo, 0);

            const data = new Date().toLocaleDateString('pt-BR');
            
            let html = `<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Dia de Sorte - Meus Jogos</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .header { text-align: center; margin-bottom: 30px; color: #D4B31A; }
        .jogo { margin: 10px 0; padding: 15px; border: 2px solid #D4B31A; border-radius: 8px; }
        .numero { display: inline-block; width: 35px; height: 35px; background: #D4B31A; color: white; 
                 border-radius: 50%; text-align: center; line-height: 35px; margin: 2px; font-weight: bold; }

        .mes { display: inline-block; padding: 8px 12px; background: #fbbf24; color: white; 
               border-radius: 8px; margin-left: 10px; font-weight: bold; }

        .mes { display: inline-block; background: #10b981; color: white; padding: 4px 8px; 
               border-radius: 8px; margin-left: 8px; font-weight: bold; }

        .total { text-align: center; margin-top: 20px; font-size: 18px; font-weight: bold; color: #D4B31A; }
    </style>
</head>
<body>
    <div class="header">

        <h1>üåû DIA DE SORTE - MEUS JOGOS</h1>
        <p>Gerado em: ${data}</p>
    </div>`;
            
            jogosAdicionados.forEach((jogo, index) => {
                html += `
    <div class="jogo">
        <h3>Jogo ${index + 1} - 7 n√∫meros + m√™s da sorte - ${formatarMoeda(jogo.custo)}</h3>
        <div>
            ${jogo.numeros.map(num => `<span class="numero">${num.toString().padStart(2, '0')}</span>`).join('')}
            <span class="mes">${MESES[jogo.mes - 1]}</span>
        </div>
        <div style="font-size: 12px; color: #666; margin-top: 5px;">
            ${jogo.pares} pares, ${jogo.impares} √≠mpares

        <h1>üçÄ DIA DE SORTE - MEUS JOGOS</h1>
        <p>Gerado em: ${data}</p>
    </div>`;
            
            meusJogos.forEach((jogo, index) => {
                html += `
    <div class="jogo">
        <h3>Jogo ${index + 1} - ${jogo.numeros.length} dezenas + m√™s da sorte - ${formatarMoeda(jogo.custo)}</h3>
        <div>
            ${jogo.numeros.map(num => `<span class="numero">${num.toString().padStart(2, '0')}</span>`).join('')}
            <span class="mes">${getNomeMes(jogo.mes)}</span>
        </div>
        <div style="font-size: 12px; color: #666; margin-top: 5px;">
            ${jogo.inicio || 0} in√≠cio, ${jogo.meio || 0} meio, ${jogo.final || 0} final

            ${jogo.origem ? ` | Origem: ${jogo.origem}` : ''}
        </div>
    </div>`;
            });
            
            html += `
    <div class="total">

        Total: ${jogosAdicionados.length} jogo(s) - ${formatarMoeda(total)}

        Total: ${meusJogos.length} jogo(s) - ${formatarMoeda(total)}

    </div>
</body>
</html>`;
            
            baixarArquivo(html, 'dia-de-sorte-jogos.html', 'text/html');

        }

        function downloadXLSX() {
            if (jogosAdicionados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Sem Jogos', 'Adicione pelo menos um jogo antes de fazer o download!');
                return;
            }
            
            const dados = [
                ['Jogo', 'N√∫meros', 'M√™s da Sorte', 'Pares', '√çmpares', 'Custo', 'Origem']
            ];
            
            jogosAdicionados.forEach((jogo, index) => {
                dados.push([
                    `Jogo ${index + 1}`,
                    jogo.numeros.map(n => n.toString().padStart(2, '0')).join(' - '),
                    MESES[jogo.mes - 1],
                    jogo.pares,
                    jogo.impares,
                    jogo.custo,
                    jogo.origem || 'Manual'
                ]);
            });
            
            const total = jogosAdicionados.reduce((sum, jogo) => sum + jogo.custo, 0);
            dados.push(['', '', 'TOTAL:', '', '', total, '']);
            
            const ws = XLSX.utils.aoa_to_sheet(dados);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, 'Dia de Sorte');
            XLSX.writeFile(wb, 'dia-de-sorte-jogos.xlsx');
        }


        }

        function downloadXLSX() {
            const dados = [
                ['Jogo', 'Dezenas', 'N√∫meros', 'M√™s da Sorte', 'In√≠cio', 'Meio', 'Final', 'Custo', 'Origem']
            ];
            
            meusJogos.forEach((jogo, index) => {
                dados.push([
                    `Jogo ${index + 1}`,
                    jogo.numeros.length,
                    jogo.numeros.map(n => n.toString().padStart(2, '0')).join(' - '),
                    getNomeMes(jogo.mes),
                    jogo.inicio || 0,
                    jogo.meio || 0,
                    jogo.final || 0,
                    jogo.custo,
                    jogo.origem || 'Manual'
                ]);
            });
            
            const total = meusJogos.reduce((sum, jogo) => sum + jogo.custo, 0);
            dados.push(['', '', '', 'TOTAL:', '', '', '', total, '']);
            
            const ws = XLSX.utils.aoa_to_sheet(dados);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, 'Dia de Sorte');
            XLSX.writeFile(wb, 'dia-de-sorte-jogos.xlsx');
        }

        // ===== FUN√á√ïES AUXILIARES =====

        function formatarMoeda(valor) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(valor);
        }


        function baixarArquivo(conteudo, nomeArquivo, tipoMime) {
            const blob = new Blob([conteudo], { type: tipoMime });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = nomeArquivo;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);

        }

        // Modais customizados
        function showCustomAlert(titulo, mensagem) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <h3 class="font-bold text-diasorte mb-2">${titulo}</h3>
                    <p class="text-gray-700 mb-4">${mensagem}</p>
                    <div class="flex justify-end">
                        <button class="px-4 py-2 bg-blue-500 text-white hover:bg-blue-600 rounded" onclick="this.closest('.fixed').remove()">OK</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function showCustomConfirm(message, onConfirm) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <p class="text-gray-700 mb-4">${message}</p>
                    <div class="flex justify-end space-x-3">
                        <button class="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded" onclick="this.closest('.fixed').remove()">Cancelar</button>
                        <button class="px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded" onclick="this.closest('.fixed').remove(); (${onConfirm})()">Confirmar</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function formatarMoeda(valor) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(valor);
        }

        // An√°lise de Padr√µes - SE√á√ÉO 3
        function carregarAnalisesPadroes() {
            if (!ultimoResultado) return;
            
            // Carregar padr√µes do √∫ltimo concurso
            carregarPadroesUltimoConcurso();
            
            // Carregar an√°lise de n√∫meros ausentes
            carregarNumerosAusentes();
        }

        function carregarPadroesUltimoConcurso() {
            const numeros = ultimoResultado.listaDezenas.map(n => parseInt(n));
            const mes = ultimoResultado.mesSorte;
            
            // Padr√£o ordem crescente - EXATO COMO PEDIDO
            const numerosOrdemCrescente = [...numeros].sort((a, b) => a - b);
            const padraoNumericoCrescente = numerosOrdemCrescente.map(n => categorizarNumero(n));
            
            document.getElementById('numerosCrescente').textContent = 
                numerosOrdemCrescente.map(n => n.toString().padStart(2, '0')).join(' ');
            document.getElementById('padraoNumericoCrescente').textContent = 
                `[${padraoNumericoCrescente.join(' ')}]`;
            
            // Padr√£o ordem de sorteio - EXATO COMO PEDIDO
            const padraoNumericoSorteio = numeros.map(n => categorizarNumero(n));
            
            document.getElementById('numerosSorteio').textContent = 
                numeros.map(n => n.toString().padStart(2, '0')).join(' ');
            document.getElementById('padraoNumericoSorteio').textContent = 
                `[${padraoNumericoSorteio.join(' ')}]`;
        }

        function categorizarNumero(num) {
            if (num >= 1 && num <= 10) return '1';   // MENORES
            if (num >= 11 && num <= 20) return '2';  // M√âDIOS  
            if (num >= 21 && num <= 31) return '3';  // MAIORES
            return '0';
        }

        function analisarPosicoes(numeros) {
            return numeros.map(num => {
                if (num >= 1 && num <= 10) return 'BAIXO';
                if (num >= 11 && num <= 20) return 'M√âDIO';
                if (num >= 21 && num <= 31) return 'ALTO';
                return 'INDEFINIDO';
            });
        }

        function carregarNumerosAusentes() {
            const quantidade = parseInt(document.getElementById('analisarJogos').value);
            
            // Simular dados hist√≥ricos baseados no √∫ltimo resultado
            const numerosUsados = new Set();
            const todosNumeros = Array.from({length: 31}, (_, i) => i + 1);
            
            // Adicionar n√∫meros do √∫ltimo sorteio
            ultimoResultado.listaDezenas.forEach(num => {
                numerosUsados.add(parseInt(num));
            });
            
            // Simular alguns jogos anteriores para an√°lise
            for (let i = 0; i < quantidade - 1; i++) {
                const jogos = gerarJogoSimuladoHistorico();
                jogos.forEach(num => numerosUsados.add(num));
            }
            
            // Encontrar n√∫meros que N√ÉO sa√≠ram
            const numerosAusentes = todosNumeros.filter(num => !numerosUsados.has(num));
            
            // Categorizar por faixas
            const baixos = numerosAusentes.filter(n => n >= 1 && n <= 10);
            const medios = numerosAusentes.filter(n => n >= 11 && n <= 20);
            const altos = numerosAusentes.filter(n => n >= 21 && n <= 31);
            
            // Atualizar interface
            document.getElementById('numerosBaixos').textContent = 
                baixos.length > 0 ? baixos.map(n => n.toString().padStart(2, '0')).join(', ') : 'Todos sa√≠ram';
            
            document.getElementById('numerosMedios').textContent = 
                medios.length > 0 ? medios.map(n => n.toString().padStart(2, '0')).join(', ') : 'Todos sa√≠ram';
            
            document.getElementById('numerosAltos').textContent = 
                altos.length > 0 ? altos.map(n => n.toString().padStart(2, '0')).join(', ') : 'Todos sa√≠ram';
            
            // Resumo
            const total = numerosAusentes.length;
            const porcentagem = ((total / 31) * 100).toFixed(1);
            
            document.getElementById('resumoAnalise').textContent = 
                `${total} n√∫meros n√£o sa√≠ram nos √∫ltimos ${quantidade} jogos (${porcentagem}% do total). ` +
                `Baixos: ${baixos.length} | M√©dios: ${medios.length} | Altos: ${altos.length}`;
        }

        function gerarJogoSimuladoHistorico() {
            const numeros = [];
            while (numeros.length < 7) {
                const num = Math.floor(Math.random() * 31) + 1;
                if (!numeros.includes(num)) {
                    numeros.push(num);
                }
            }
            return numeros;
        }

        // Funcionalidades dos checkboxes das regras
        function atualizarContadorRegras() {
            const checkboxes = document.querySelectorAll('.regra-checkbox');
            const selecionadas = document.querySelectorAll('.regra-checkbox:checked').length;
            document.getElementById('regrasCount').textContent = selecionadas;
        }

        function selecionarTodasRegras() {
            document.querySelectorAll('.regra-checkbox').forEach(checkbox => {
                checkbox.checked = true;
            });
            atualizarContadorRegras();
        }

        function limparTodasRegras() {
            document.querySelectorAll('.regra-checkbox').forEach(checkbox => {
                checkbox.checked = false;
            });
            atualizarContadorRegras();
        }

        function configurarEventListeners() {
            document.getElementById('atualizarValor').addEventListener('click', atualizarValorAposta);
            document.getElementById('limparJogo').addEventListener('click', limparJogo);
            document.getElementById('randomizarJogo').addEventListener('click', randomizarJogo);
            document.getElementById('adicionarJogo').addEventListener('click', adicionarJogo);
            document.getElementById('processarManual').addEventListener('click', processarManual);
            document.getElementById('gerarMinimalistas').addEventListener('click', gerarMinimalistas);
            document.getElementById('adicionarTodosGerados').addEventListener('click', adicionarTodosGerados);
            document.getElementById('mostrarOrdemCrescente').addEventListener('change', atualizarVisualizacaoJogos);
            document.getElementById('permitirNumerosSorteados').addEventListener('change', atualizarEstadoNumerosSorteados);
            document.getElementById('analisarJogos').addEventListener('change', carregarNumerosAusentes);
            document.getElementById('limparTodos').addEventListener('click', limparTodos);
            document.getElementById('downloadHTML').addEventListener('click', downloadHTML);
            document.getElementById('downloadTXT').addEventListener('click', downloadTXT);
            document.getElementById('downloadXLSX').addEventListener('click', downloadXLSX);
            
            // Event listeners das regras minimalistas
            document.getElementById('selecionarTodas').addEventListener('click', selecionarTodasRegras);
            document.getElementById('limparTodas').addEventListener('click', limparTodasRegras);
            document.querySelectorAll('.regra-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', atualizarContadorRegras);
            });
        }

        }

        function showCustomAlert(titulo, mensagem) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white p-6 rounded-lg shadow-lg max-w-sm w-full mx-4">
                    <h3 class="font-bold text-diasorte mb-2">${titulo}</h3>
                    <p class="text-gray-700 mb-4" style="white-space: pre-line;">${mensagem}</p>
                    <div class="flex justify-end">
                        <button class="px-4 py-2 bg-blue-500 text-white hover:bg-blue-600 rounded" onclick="this.closest('.fixed').remove()">OK</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function showCustomConfirm(message, onConfirm) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            
            const modalContent = document.createElement('div');
            modalContent.className = 'bg-white p-6 rounded-lg shadow-lg max-w-sm w-full mx-4';
            
            const messageEl = document.createElement('p');
            messageEl.className = 'text-gray-700 mb-4';
            messageEl.style.whiteSpace = 'pre-line';
            messageEl.textContent = message;
            
            const buttonsDiv = document.createElement('div');
            buttonsDiv.className = 'flex justify-end space-x-3';
            
            const cancelBtn = document.createElement('button');
            cancelBtn.className = 'px-4 py-2 text-gray-600 hover:bg-gray-100 rounded';
            cancelBtn.textContent = 'Cancelar';
            cancelBtn.onclick = () => modal.remove();
            
            const confirmBtn = document.createElement('button');
            confirmBtn.className = 'px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded';
            confirmBtn.textContent = 'Confirmar';
            confirmBtn.onclick = () => {
                modal.remove();
                onConfirm();
            };
            
            buttonsDiv.appendChild(cancelBtn);
            buttonsDiv.appendChild(confirmBtn);
            modalContent.appendChild(messageEl);
            modalContent.appendChild(buttonsDiv);
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
        }

        // ===== FUN√á√ïES PARA JOGOS MINIMALISTAS =====

        function editarJogoMinimalistaPorId(id) {
            if (!window.jogosMinimalistasGerados || window.jogosMinimalistasGerados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Erro', 'Lista de jogos n√£o encontrada ou vazia!');
                return;
            }
            
            const jogo = window.jogosMinimalistasGerados.find(j => j.id.toString() === id.toString());
            if (!jogo) {
                showCustomAlert('‚ö†Ô∏è Erro', 'Jogo n√£o encontrado!');
                return;
            }
            
            const numerosParaEditar = jogo.numeros.slice(0, jogo.quantidade);
            
            showCustomConfirm(
                `Deseja editar este jogo?\n\nN√∫meros: ${numerosParaEditar.map(n => n.toString().padStart(2, '0')).join(' - ')}\nM√™s: ${getNomeMes(jogo.mes)}\n\nOs n√∫meros ser√£o carregados na se√ß√£o manual para edi√ß√£o.`, 
                () => {
                    // Limpar sele√ß√£o atual
                    limparSelecao();
                    
                    // Definir quantidade de dezenas
                    document.getElementById('quantidadeDezenas').value = numerosParaEditar.length;
                    atualizarVisualizacaoDropArea();
                    
                    // Carregar n√∫meros na √°rea de drop
                    numerosParaEditar.forEach(numero => {
                        numerosDropArea.push(numero);
                        const btn = document.querySelector(`[data-numero="${numero}"]`);
                        if (btn) btn.classList.add('selecionado');
                    });
                    
                    // Carregar m√™s
                    toggleMes(jogo.mes);
                    
                    // Atualizar visualiza√ß√£o
                    atualizarVisualizacaoDropArea();
                    atualizarContadorDistribuicao();
                    validarBotaoAdicionar();
                    
                    // Remover jogo da lista minimalista
                    window.jogosMinimalistasGerados = window.jogosMinimalistasGerados.filter(j => j.id.toString() !== id.toString());
                    exibirJogosMinimalistas(window.jogosMinimalistasGerados);
                    
                    // Rolar para a se√ß√£o manual
                    document.querySelector('#dropZone').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'center' 
                    });
                    
                    showCustomAlert('‚úÖ Jogo Carregado', `${numerosParaEditar.length} n√∫meros + m√™s carregados na se√ß√£o manual!\n\nVoc√™ pode edit√°-los e adicionar novamente.`);
                }
            );
        }

        function excluirJogoMinimalistaPorId(id) {
            if (!window.jogosMinimalistasGerados || window.jogosMinimalistasGerados.length === 0) {
                showCustomAlert('‚ö†Ô∏è Erro', 'Lista de jogos n√£o encontrada ou vazia!');
                return;
            }
            
            const jogo = window.jogosMinimalistasGerados.find(j => j.id.toString() === id.toString());
            if (!jogo) {
                showCustomAlert('‚ö†Ô∏è Erro', 'Jogo n√£o encontrado!');
                return;
            }
            
            showCustomConfirm(
                `Tem certeza que deseja excluir este jogo?\n\nN√∫meros: ${jogo.numeros.slice(0, jogo.quantidade).map(n => n.toString().padStart(2, '0')).join(' - ')}\nM√™s: ${getNomeMes(jogo.mes)}`, 
                () => {
                    // Remover jogo da lista
                    window.jogosMinimalistasGerados = window.jogosMinimalistasGerados.filter(j => j.id.toString() !== id.toString());
                    
                    // Atualizar exibi√ß√£o
                    if (window.jogosMinimalistasGerados.length === 0) {
                        document.getElementById('resultadosMin').classList.add('hidden');
                        showCustomAlert('‚úÖ Lista Vazia', 'Todos os jogos foram removidos. Gere novos jogos quando desejar!');
                    } else {
                        exibirJogosMinimalistas(window.jogosMinimalistasGerados);
                        showCustomAlert('‚úÖ Exclu√≠do', 'Jogo removido da lista!');
                    }
                }
            );
        }

        // Fun√ß√µes globais para drag and drop
        function allowDrop(ev) { ev.preventDefault(); }
        function dragEnter(ev) { ev.preventDefault(); ev.currentTarget.classList.add('drag-over'); }
        function dragLeave(ev) { if (!ev.currentTarget.contains(ev.relatedTarget)) ev.currentTarget.classList.remove('drag-over'); }
        function drop(ev) {
            ev.preventDefault();
            ev.currentTarget.classList.remove('drag-over');
            const data = ev.dataTransfer.getData('text/plain');
            if (data.startsWith('mes-')) {
                const mes = parseInt(data.replace('mes-', ''));
                if (!isNaN(mes)) selecionarMes(mes);
            } else {
                const numero = parseInt(data);
                if (!isNaN(numero)) adicionarNumeroDropArea(numero);
            }
        }

    </script>
</body>
</html>